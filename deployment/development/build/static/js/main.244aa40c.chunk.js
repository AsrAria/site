(this.webpackJsonppsykon=this.webpackJsonppsykon||[]).push([[0],{364:function(e,t,a){e.exports=a.p+"static/media/image_sidebar.f638f2ad.jpg"},365:function(e,t,a){e.exports=a.p+"static/media/icon.2b1e6d38.png"},418:function(e,t,a){e.exports=a(754)},467:function(e,t,a){},754:function(e,t,a){"use strict";a.r(t),a.d(t,"history",(function(){return dr}));var s={};a.r(s),a.d(s,"BASE_URL",(function(){return ne})),a.d(s,"REGISTER_URL",(function(){return oe})),a.d(s,"register",(function(){return le})),a.d(s,"AUTHENTICATE_URL",(function(){return ce})),a.d(s,"login",(function(){return pe})),a.d(s,"ACTIVATE_URL",(function(){return de})),a.d(s,"activate",(function(){return me})),a.d(s,"UPDATE_PROFILE_URL",(function(){return he})),a.d(s,"updateProfile",(function(){return ue})),a.d(s,"GET_PROFILE_URL",(function(){return ge})),a.d(s,"getProfile",(function(){return fe})),a.d(s,"CHANGE_PASSWORD_URL",(function(){return be})),a.d(s,"changePassword",(function(){return xe})),a.d(s,"RECOVER_PASSWORD_URL",(function(){return Ee})),a.d(s,"recoverPassword",(function(){return ye})),a.d(s,"SET_PASSWORD_URL",(function(){return ve})),a.d(s,"setPassword",(function(){return Ce})),a.d(s,"logout",(function(){return we})),a.d(s,"UPLOAD_IMAGE_URL",(function(){return _e})),a.d(s,"uploadImage",(function(){return ke})),a.d(s,"UPLOAD_FILE_URL",(function(){return Te})),a.d(s,"uploadFile",(function(){return Ie})),a.d(s,"PAYMENT_URL",(function(){return Se})),a.d(s,"increaseBalance",(function(){return Pe})),a.d(s,"savePermissions",(function(){return Ne})),a.d(s,"deleteUserInfo",(function(){return Oe})),a.d(s,"deleteAuthenticateInfo",(function(){return Re}));var i={};a.r(i),a.d(i,"BASE_URL",(function(){return Za})),a.d(i,"submitTest",(function(){return es})),a.d(i,"getPsychiatristSuggestion",(function(){return ts})),a.d(i,"getMeetingSuggestion",(function(){return as})),a.d(i,"personCreateMeeting",(function(){return ss}));var r={};a.r(r),a.d(r,"BASE_URL",(function(){return is})),a.d(r,"psychiatristCreateMeeting",(function(){return rs}));var n={};a.r(n),a.d(n,"BASE_URL",(function(){return ms})),a.d(n,"UPLOAD_FILE_URL",(function(){return hs})),a.d(n,"uploadFile",(function(){return us})),a.d(n,"ADDRESS_URL",(function(){return gs})),a.d(n,"getAddress",(function(){return fs})),a.d(n,"addToCalendar",(function(){return bs}));var o=a(0),l=a.n(o),c=a(19),p=a.n(c),d=a(30),m=a(47),h=a(183),u=a(25),g=a(341),f=a.n(g),b=(a(467),a(468),a(114)),x=a(370),E=a(367),y=a(785),v=a(231),C=(a(342),a(38));const w={api:{protocol:"https",apiDomain:"api-dev.psykon.ca",version:1}};w.api.hostname=w.api.protocol+"://"+w.api.apiDomain,w.api.baseUrl=w.api.hostname+"/api/v"+w.api.version+"/",w.debug={reduxLogger:!0};var _=w,k=a(343);var T=function(e=[],t){switch(t.type){case"ADD_LOADING":return Object.assign({},e,{loading:e.loading+1});case"REMOVE_LOADING":return Object.assign({},e,{loading:Math.max(e.loading-1,0)});default:return e}};var I=function(e=[],t){switch(t.type){case"SET_EMAIL":return Object.assign({},e,{email:t.payload});case"SET_PROFILE":return Object.assign({},e,{profile:t.payload});case"SET_ACCESS_TOKEN":return Object.assign({},e,{accessToken:t.payload});case"SET_ACTIVATE_TTL":return Object.assign({},e,{activateTTL:t.payload});default:return e}};var S=Object(C.c)({app:T,user:I,routerReducer:k.routerReducer});const P=(e,t="")=>localStorage.getItem(e)||t,N=(e,t)=>{localStorage.setItem(e,t)},D=e=>{localStorage.removeItem(e)},F=e=>{try{return JSON.parse(localStorage.getItem(e))||{}}catch(t){return{}}},O=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},B=e=>{localStorage.removeItem(e)};N("version","2");const R={app:{loading:0},user:{email:P("email"),profile:F("profile"),accessToken:P("accessToken"),activateTTL:new Date(F("activateTTL"))}};let j={};j=Object(C.a)(v.a),_.debug.reduxLogger;var W=Object(C.e)(S,R,j),H=a(35),z=a(12),L=a(53);const A=e=>(dr.location.pathname!==e&&dr.push(e),!0);var M=a(232),V=a.n(M),q=a(344),U=a(345),$=a.n(U);function Y(e){var t={"Content-Type":"application/json; charset=UTF-8","Cache-Control":"no-cache"};return e&&(null!==K()?t["Secret-Key"]=K():null!==J()&&(t["Access-Token"]=J().accessToken)),t}function G(e){var t=Y(e);return $.a.create({baseURL:_.api.baseUrl,headers:t})}function K(){var e=P("secretKey");return e.length>0?e:null}function J(){var e=F("accessToken");return void 0===e.accessToken||0===e.accessToken.length||0===e.refreshToken.length?null:e}const X=e=>{e&&W.dispatch({type:"ADD_LOADING",payload:{}})},Q=(e,t={enable:!1},a,s=null)=>{if(e&&W.dispatch({type:"REMOVE_LOADING",payload:{}}),t.enable){for(var i in t)if(i===a.toString())return void z.b.error(t[i]);null!==s?z.b.error(s):z.b.error("Unfortunately, the operation failed.")}},Z=(e,t,a,s,i,r)=>{var n=J();if(n){var o={access_token:n.accessToken,refresh_token:n.refreshToken};return G(!1).post("user/token/refresh",o).then((function(r){!function(e){var t=F("accessToken");t.accessToken=e.access_token,t.refreshToken=e.refresh_token,O("accessToken",t)}(r.data),e&&G(!0)(e).then((function(e){t(e),Q(s)})).catch((function(e){a(e),Q(s,i,e.response.status,e.response&&e.response.data?e.response.data.message_en:null)}))})).catch((function(){r&&we()()})),!0}return r&&we()(),!1},ee=(e,t=(()=>{}),a=(()=>{}),s=!0,i=!0,r={enable:!0},n=!0)=>(X(i),G(s)(e).then((function(e){Q(i),t(e)})).catch(o=>{((e={},t={},a=(()=>{}),s=(()=>{}),i,r=!0,n={enable:!0},o)=>{e.response||(e.response={status:0}),i&&401===e.response.status&&Z(t,a,s,r,n,o)||(Q(r,n,e.response.status,e.response&&e.response.data?e.response.data.message_en:null),s(e))})(o,e,t,a,s,i,r,n)}),!0),te=(e="",t=(()=>{}),a=(()=>{}),s=!0,i=!0,r={enable:!0},n=!0)=>ee({url:e,method:"get"},t,a,s,i,r,n),ae=(e="",t={},a=(()=>{}),s=(()=>{}),i=!0,r=!0,n={enable:!0},o=!0)=>ee({url:e,data:t,method:"put"},a,s,i,r,n,o),se=(e="",t={},a=(()=>{}),s=(()=>{}),i=!0,r=!0,n={enable:!0},o=!0)=>ee({url:e,data:t,method:"post"},a,s,i,r,n,o),ie=(e="/upload/image",t,a,s,i=(()=>{}))=>{const r=new FormData;r.append("file",t),r.append("type",a),se(e,r,e=>{s(e.data)},i)},re=(e="",t="file.txt",a=!0,s=null)=>{function i(){return(i=Object(q.a)(V.a.mark((function i(){var r,n,o,l;return V.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,X(!0),i.next=4,fetch(e,{headers:Y(a)});case 4:return r=i.sent,i.next=7,r.blob();case 7:n=i.sent,(o=new FileReader).onload=()=>{},o.readAsDataURL(n),s?s(window.URL.createObjectURL(n)):(l=document.createElement("a"),null!=t&&(l.download=t),l.href=window.URL.createObjectURL(n),l.target="_blank",l.click()),Q(!0),i.next=18;break;case 15:i.prev=15,i.t0=i.catch(0),Q(!0);case 18:case"end":return i.stop()}}),i,null,[[0,15]])})))).apply(this,arguments)}!function(){i.apply(this,arguments)}()},ne="/user",oe=ne+"/register",le=(e,t,a)=>function(){se(oe,{role:e,email:t,password:a},e=>{De(e.data),z.b.success("Your registration was successful.")},()=>{},!1,!0,{enable:!0,400:"The password must be more than 8 characters long and consist of numbers or uppercase and lowercase English letters.",409:"The selected email is duplicate."})},ce=ne+"/activate/code",pe=(e,t)=>function(){se(ce,{email:e,password:t},e=>{De(e.data),z.b.success("An activation code has been sent to you.")},()=>{},!1,!0,{enable:!0,400:"The entered email or password is incorrect.",401:"The entered email or password is incorrect.",404:"The entered email or password is incorrect."})},de=ne+"/activate",me=(e,t)=>function(){se(de,{email:e,code:t},e=>{Be(e.data)},()=>{},!1,!0,{enable:!0,400:"The activation code entered is incorrect.",401:"The activation code entered is incorrect."})},he=ne+"/:id",ue=(e,t,a)=>function(){ae((0===e?"person":1===e?"psychiatrist":"organization")+"/"+t,a,e=>{Fe(e.data),z.b.success("Your account information was successfully updated.")},()=>{},!0,!0,{enable:!0,400:"The email you entered is incorrect."},!1)},ge=ne+"/:id",fe=(e,t)=>function(){te((0===e?"person":1===e?"psychiatrist":"organization")+"/"+t,e=>{Fe(e.data)},()=>{},!0,!0,{enable:!1},!1)},be=ne+"/password",xe=(e,t)=>function(){ae(be,{old_password:e,new_password:t},()=>{z.b.success("Password changed successfully."),A("/")},()=>{},!0,!0,{enable:!0,400:"The password must be more than 8 characters long and consist of numbers or uppercase and lowercase English letters.",401:"Wrong password."},!1)},Ee=ne+"/password/recover",ye=e=>function(){se(Ee,{email:e},()=>{A("/"),z.b.success("A password change link will be sent to you.")},()=>{},!1,!0,{enable:!0,400:"The email you entered is incorrect.",404:"The email you entered is incorrect."},!1)},ve=ne+"/password/set",Ce=(e,t)=>function(){se(ve,{token:e,new_password:t},()=>{A("/"),z.b.success("New password registered successfully.")},()=>{},!1,!0,{enable:!0,400:"The password must be more than 8 characters long and consist of numbers or uppercase and lowercase English letters.",401:"Password change token has expired. Start the password recovery process from the beginning."},!1)},we=()=>function(){localStorage.clear(),Re(),A("/login")},_e=ne+"/:id/image",ke=(e,t,a,s,i)=>function(){ie(_e.replace(":id",e),t,a,s,i)},Te=ne+"/:id/file",Ie=(e,t,a,s,i)=>function(){ie(Te.replace(":id",e),t,a,s,i)},Se=ne+"/:id/pay",Pe=(e,t)=>function(){se(Se.replace(":id",e),{amount:t},e=>{window.location.href=e.data.url},()=>{},!0,!0,{enable:!0},!1)},Ne=e=>function(){O("permissions",e),W.dispatch({type:"SET_PERMISSIONS",payload:e})},De=e=>{var t=new Date((new Date).getTime()+1e3*e.activate_ttl);N("email",e.email),O("activateTTL",t.getTime()),W.dispatch({type:"SET_EMAIL",payload:e.email}),W.dispatch({type:"SET_ACTIVATE_TTL",payload:t})},Fe=e=>{O("profile",e),N("email",e.email),W.dispatch({type:"SET_PROFILE",payload:e}),W.dispatch({type:"SET_EMAIL",payload:e.email})},Oe=()=>{B("profile"),D("email"),W.dispatch({type:"SET_PROFILE",payload:null}),W.dispatch({type:"SET_EMAIL",payload:""})},Be=e=>{Fe(e.user),D("activateTTL"),O("accessToken",{accessToken:e.access_token,refreshToken:e.refresh_token}),W.dispatch({type:"SET_ACCESS_TOKEN",payload:e.access_token}),W.dispatch({type:"SET_ACTIVATE_TTL",payload:null})},Re=()=>{Oe(),B("accessToken"),D("activateTTL"),W.dispatch({type:"SET_ACCESS_TOKEN",payload:""}),W.dispatch({type:"SET_ACTIVATE_TTL",payload:null})};var je=a(34),We=a(24),He=a.n(We);function ze(e,t,a){return Object(h.b)(a,(function(e){return Object(C.b)(t,e)}))(e)}function Le(e,t,a,s){return He()(s)(ze(e,t,a))}var Ae=a(8),Me=a.n(Ae);var Ve={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba(0, 0, 0, 0.87)",background:"#fff",width:"100%",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}};var qe=He()(Ve)((function(e){let t=Object.assign({},e);const a=t.classes,s=t.className,i=t.children,r=t.plain,n=t.profile,o=t.chart,c=Object(H.a)(t,["classes","className","children","plain","profile","chart"]),p=Me()({[a.card]:!0,[a.cardPlain]:r,[a.cardProfile]:n,[a.cardChart]:o,[s]:void 0!==s});return l.a.createElement("div",Object.assign({className:p},c),i)}));var Ue={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"}};var $e=He()(Ue)((function(e){let t=Object.assign({},e);const a=t.classes,s=t.className,i=t.children,r=t.plain,n=t.profile,o=Object(H.a)(t,["classes","className","children","plain","profile"]),c=Me()({[a.cardBody]:!0,[a.cardBodyPlain]:r,[a.cardBodyProfile]:n,[s]:void 0!==s});return l.a.createElement("div",Object.assign({className:c},o),i)})),Ye=a(7);const Ge={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},Ke={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},Je={boxShadow:"0 10px 30px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)"},Xe={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},Qe={boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)"},Ze=Object(Ye.a)({background:"linear-gradient(60deg, #ffa726, #fb8c00)"},{boxShadow:"0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)"}),et=Object(Ye.a)({background:"linear-gradient(60deg, #66bb6a, #43a047)"},{boxShadow:"0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2)"}),tt=Object(Ye.a)({background:"linear-gradient(60deg, #ef5350, #e53935)"},{boxShadow:"0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2)"}),at=Object(Ye.a)({background:"linear-gradient(60deg, #26c6da, #00acc1)"},{boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)"}),st=Object(Ye.a)({background:"linear-gradient(60deg, #26c6da, #00acc1)"},Qe),it=Object(Ye.a)({background:"linear-gradient(60deg, #ec407a, #d81b60)"},{boxShadow:"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4)"}),rt=(Object(Ye.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid #eeeeee",height:"auto"},Xe),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba(0, 0, 0, 0.42), 0 3px 20px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),nt={color:"#3C4858",textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:"#777",fontWeight:"400",lineHeight:"1"}};Object(Ye.a)(Object(Ye.a)({},nt),{},{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(Ye.a)(Object(Ye.a)({},nt),{},{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})});var ot={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:"#FFFFFF"},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"left"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"left"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ye.a)({},Ze)},successCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ye.a)({},et)},dangerCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ye.a)({},tt)},infoCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ye.a)({},at)},primaryCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ye.a)({},st)},roseCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ye.a)({},it)}};var lt=He()(ot)((function(e){let t=Object.assign({},e);const a=t.classes,s=t.className,i=t.children,r=t.color,n=t.plain,o=t.stats,c=t.icon,p=Object(H.a)(t,["classes","className","children","color","plain","stats","icon"]),d=Me()({[a.cardHeader]:!0,[a[r+"CardHeader"]]:r,[a.cardHeaderPlain]:n,[a.cardHeaderStats]:o,[a.cardHeaderIcon]:c,[s]:void 0!==s});return l.a.createElement("div",Object.assign({className:d},p),i)}));var ct=()=>({mainBody:{paddingLeft:"30px",paddingRight:"30px"},mainCard:{marginTop:"40px",marginBottom:"20px",paddingBottom:"10px"},cardTitleWhite:{width:"70%",height:"30px",float:"left",marginTop:"12px",marginBottom:"12px",marginRight:"5px",fontSize:"17px"},titleText:{fontSize:"20px",padding:"20px 00px 0px 00px"},descriptionText:{fontSize:"14px",padding:"10px 00px 0px 00px"},errorText:{color:"red",fontSize:"14px",padding:"20px 20px 0px 20px"}});class pt extends l.a.Component{constructor(e){super(e),this.state={loadingDialogOpen:!1,eventDialogOpen:!1},this.props.getProfile(this.props.user.profile.role,this.props.user.profile.id)}render(){const e=this.props.classes;return l.a.createElement("div",null,l.a.createElement(qe,{className:e.mainCard},l.a.createElement(lt,{color:"primary"},l.a.createElement("div",{className:e.cardTitleWhite},"Home page")),l.a.createElement($e,{className:e.mainBody},l.a.createElement("div",{className:e.titleText},"Psykon"),l.a.createElement("div",{className:e.descriptionText},"Psykon application content management system."),!1===this.props.user.profile.is_confirmed?l.a.createElement("div",{className:e.errorText},"Your account has not been verified. You will be notified by email of the result of your account review."):null)))}}var dt=Le(pt,s,(function(e){return{user:e.user}}),ct),mt=a(18),ht=a.n(mt),ut=a(786);var gt=He()({grid:{padding:"0 15px !important"}})((function(e){let t=Object.assign({},e);const a=t.classes,s=t.children,i=Object(H.a)(t,["classes","children"]);return l.a.createElement(ut.a,Object.assign({item:!0},i,{className:a.grid}),s)}));var ft=He()({grid:{margin:"0 -15px !important",width:"unset"}})((function(e){const t=e.classes,a=e.children,s=Object(H.a)(e,["classes","children"]);return l.a.createElement(ut.a,Object.assign({container:!0},s,{className:t.grid}),a)})),bt=a(135),xt=a(175),Et=a.n(xt),yt=a(26),vt=a.n(yt),Ct=a(788),wt=a(816),_t=a(787);var kt={disabled:{"&:before":{backgroundColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:"#D2D2D2 !important",borderWidth:"1px !important"},"&:after":{borderColor:"#00acc1"}},underlineError:{"&:after":{borderColor:"#f44336"}},underlineSuccess:{"&:after":{borderColor:"#4caf50"}},labelRoot:Object(Ye.a)(Object(Ye.a)({},Xe),{},{color:"#AAAAAA !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857"}),labelRootError:{color:"#f44336"},labelRootSuccess:{color:"#4caf50"},feedback:{position:"absolute",top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"10px 0 0 0",position:"relative"},select:{},input:{lineHeight:1.5}};function Tt(e){let t=Object.assign({},e);const a=Object(b.a)({direction:"ltr",typography:{useNextVariants:!0}}),s=Object(u.create)({plugins:[...Object(x.a)().plugins]}),i=t.classes,r=t.formControlProps,n=t.labelText,o=t.id,c=t.labelProps,p=t.inputProps,d=t.error,m=t.success,h=t.onEnter,g=t.onClick,f=Me()({[" "+i.labelRootError]:d,[" "+i.labelRootSuccess]:m&&!d}),E=Me()({[i.underlineError]:d,[i.underlineSuccess]:m&&!d,[i.underline]:!0}),v=Me()({[i.marginTop]:void 0===n});return l.a.createElement(bt.b,{jss:s},l.a.createElement(y.a,{theme:a},l.a.createElement(_t.a,Object.assign({},r,{className:r.className+" "+i.formControl}),void 0!==n?l.a.createElement(wt.a,Object.assign({className:i.labelRoot+f,htmlFor:o},c),n):null,l.a.createElement(Ct.a,Object.assign({value:t.value,defaultValue:t.defaultValue,className:i.input,classes:{root:v,disabled:i.disabled,underline:E},id:o},p,{onClick:g,onKeyPress:e=>{"Enter"===e.key&&h()}})),d?l.a.createElement(Et.a,{className:i.feedback+" "+i.labelRootError}):m?l.a.createElement(vt.a,{className:i.feedback+" "+i.labelRootSuccess}):null)))}Tt.defaultProps={onClick:()=>{},onEnter:()=>{}};var It=He()(kt)(Tt),St=a(280);var Pt={button:{minHeight:"auto",minWidth:"auto",backgroundColor:"#999999",color:"#FFFFFF",boxShadow:"0 2px 2px 0 rgba(153, 153, 153, 0.14), 0 3px 1px -2px rgba(153, 153, 153, 0.2), 0 1px 5px 0 rgba(153, 153, 153, 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"10px 20px 10px 20px",margin:".3125rem 1px",fontSize:"14px",fontWeight:"400",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFFFFF",backgroundColor:"#999999",boxShadow:"0 14px 26px -12px rgba(153, 153, 153, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(153, 153, 153, 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFFFFF",color:"#999999"}},rose:{backgroundColor:"#e91e63",boxShadow:"0 2px 2px 0 rgba(233, 30, 99, 0.14), 0 3px 1px -2px rgba(233, 30, 99, 0.2), 0 1px 5px 0 rgba(233, 30, 99, 0.12)","&:hover,&:focus":{backgroundColor:"#e91e63",boxShadow:"0 14px 26px -12px rgba(233, 30, 99, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(233, 30, 99, 0.2)"}},primary:{backgroundColor:"#00acc1",boxShadow:"0 2px 2px 0 rgba(0, 188, 212, 0.14), 0 3px 1px -2px rgba(0, 188, 212, 0.2), 0 1px 5px 0 rgba(0, 188, 212, 0.12)","&:hover,&:focus":{backgroundColor:"#00acc1",boxShadow:"0 14px 26px -12px rgba(0, 188, 212, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 188, 212, 0.2)"}},info:{backgroundColor:"#00acc1",boxShadow:"0 2px 2px 0 rgba(0, 188, 212, 0.14), 0 3px 1px -2px rgba(0, 188, 212, 0.2), 0 1px 5px 0 rgba(0, 188, 212, 0.12)","&:hover,&:focus":{backgroundColor:"#00acc1",boxShadow:"0 14px 26px -12px rgba(0, 188, 212, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 188, 212, 0.2)"}},success:{backgroundColor:"#4caf50",boxShadow:"0 2px 2px 0 rgba(76, 175, 80, 0.14), 0 3px 1px -2px rgba(76, 175, 80, 0.2), 0 1px 5px 0 rgba(76, 175, 80, 0.12)","&:hover,&:focus":{backgroundColor:"#4caf50",boxShadow:"0 14px 26px -12px rgba(76, 175, 80, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(76, 175, 80, 0.2)"}},warning:{backgroundColor:"#ff9800",boxShadow:"0 2px 2px 0 rgba(255, 152, 0, 0.14), 0 3px 1px -2px rgba(255, 152, 0, 0.2), 0 1px 5px 0 rgba(255, 152, 0, 0.12)","&:hover,&:focus":{backgroundColor:"#ff9800",boxShadow:"0 14px 26px -12px rgba(255, 152, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(255, 152, 0, 0.2)"}},danger:{backgroundColor:"#f44336",boxShadow:"0 2px 2px 0 rgba(244, 67, 54, 0.14), 0 3px 1px -2px rgba(244, 67, 54, 0.2), 0 1px 5px 0 rgba(244, 67, 54, 0.12)","&:hover,&:focus":{backgroundColor:"#f44336",boxShadow:"0 14px 26px -12px rgba(244, 67, 54, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(244, 67, 54, 0.2)"}},simple:{"&,&:focus,&:hover":{color:"#FFFFFF",background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:"#e91e63"}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:"#00acc1"}},"&$info":{"&,&:focus,&:hover,&:visited":{color:"#00acc1"}},"&$success":{"&,&:focus,&:hover,&:visited":{color:"#4caf50"}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:"#ff9800"}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:"#f44336"}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:"#999999",boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}};var Nt=He()(Pt)((function(e){let t=Object.assign({},e);const a=t.classes,s=t.color,i=t.round,r=t.children,n=t.disabled,o=t.simple,c=t.size,p=t.block,d=t.link,m=t.justIcon,h=t.className,u=t.muiClasses,g=Object(H.a)(t,["classes","color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses"]),f=Me()({[a.button]:!0,[a[c]]:c,[a[s]]:s,[a.round]:i,[a.disabled]:n,[a.simple]:o,[a.block]:p,[a.link]:d,[a.justIcon]:m,[h]:h});return l.a.createElement(St.a,Object.assign({},g,{classes:u,className:f}),r)}));var Dt={cardFooter:{padding:"0",paddingTop:"10px",margin:"0 15px 10px",borderRadius:"0",justifyContent:"space-between",alignItems:"center",display:"flex",backgroundColor:"transparent",border:"0"},cardFooterProfile:{marginTop:"-15px"},cardFooterPlain:{paddingLeft:"5px",paddingRight:"5px",backgroundColor:"transparent"},cardFooterStats:{borderTop:"1px solid #eee",marginTop:"20px","& svg":{position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px",width:"16px",height:"16px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"16px",position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px"}},cardFooterChart:{borderTop:"1px solid #eee"}};var Ft=He()(Dt)((function(e){let t=Object.assign({},e);const a=t.classes,s=t.className,i=t.children,r=t.plain,n=t.profile,o=t.stats,c=t.chart,p=Object(H.a)(t,["classes","className","children","plain","profile","stats","chart"]),d=Me()({[a.cardFooter]:!0,[a.cardFooterPlain]:r,[a.cardFooterProfile]:n,[a.cardFooterStats]:o,[a.cardFooterChart]:c,[s]:void 0!==s});return l.a.createElement("div",Object.assign({className:d},p),i)}));var Ot=()=>({inputLTR:{direction:"ltr"},background:{height:"calc(100vh - 40px)",margin:"10px",position:"relative"},mainBox:{maxWidth:"400px",margin:"auto",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},cardTitleWhite:{width:"50%",height:"30px",float:"left",marginTop:"12px",marginBottom:"12px",marginLeft:"5px",fontSize:"17px"},logoutButton:{cursor:"pointer",color:"blue"},loadingItem:{width:"50%",marginTop:"12px",marginBottom:"12px",float:"right"},bottomOptions:{width:"100%"},submitButton:{height:"40px",float:"right"},remainingTitle:{marginLeft:"10px"}});class Bt extends l.a.Component{constructor(e){super(e),this.changePassword=()=>{const e=this.state,t=e.oldPassword,a=e.newPassword;a===e.retryNewPassword?this.props.changePassword(t,a):z.b.error("The new password and its repetition are not equal.")},this.onChangeHandler=(e,t)=>{let a={};a[t]=e.target.value,this.setState(a)},this.state={oldPassword:"",newPassword:"",retryNewPassword:""}}render(){const e=this.props.classes;return l.a.createElement("div",null,l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{style:{marginTop:"5vh"},xs:12,sm:8,md:6},l.a.createElement(qe,null,l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Edit password"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Previous password",id:"oldPassword",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"oldPassword")},type:"password"},onEnter:this.changePassword})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"New password",id:"newPassword",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"newPassword")},type:"password"},onEnter:this.changePassword})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Repeat the new password",id:"retryNewPassword",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"retryNewPassword")},type:"password"},onEnter:this.changePassword})))),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.submitButton,color:"primary",onClick:this.changePassword},"Save")))))))}}Bt.defaultProps={app:{loading:0},classes:{},changePassword:()=>{}};var Rt=Le(Bt,s,(function(e){return{app:e.app}}),Ot);class jt extends l.a.Component{constructor(e){super(e),this.increaseBalance=()=>{const e=this.state.amount;""!==e?this.props.increaseBalance(this.props.user.profile.id,parseInt(e)):z.b.error("Select the amount.")},this.onChangeHandler=(e,t)=>{let a={};a[t]=e.target.value,this.setState(a)},this.state={amount:""}}render(){const e=this.props.classes;return l.a.createElement("div",null,l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{style:{marginTop:"5vh"},xs:12,sm:8,md:6},l.a.createElement(qe,null,l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Increase balance"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Amount",id:"amount",formControlProps:{fullWidth:!0},inputProps:{type:"number",onChange:e=>{this.onChangeHandler(e,"amount")}},onEnter:this.increaseBalance})))),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.submitButton,color:"primary",onClick:this.increaseBalance},"Pay")))))))}}jt.defaultProps={app:{loading:0},classes:{},increaseBalance:()=>{}};var Wt=Le(jt,s,(function(e){return{app:e.app,user:e.user}}),Ot),Ht=a(1),zt=a.n(Ht),Lt=a(813),At=a(792);var Mt=He()(kt)((function(e){let t=Object.assign({},e);const a=Object(b.a)({direction:"ltr",typography:{useNextVariants:!0},palette:{primary:{main:"#00acc1"},secondary:{main:"#f44336"}}}),s=Object(u.create)({plugins:[...Object(x.a)().plugins]}),i=t.classes,r=t.formControlProps,n=t.labelText,o=t.id,c=t.labelProps,p=t.inputProps,d=t.error,m=t.success,h=t.items,g=Me()({[" "+i.labelRootError]:d,[" "+i.labelRootSuccess]:m&&!d}),f=Me()({[i.marginTop]:void 0===n});return l.a.createElement(bt.b,{jss:s},l.a.createElement(y.a,{theme:a},l.a.createElement(_t.a,Object.assign({},r,{className:r.className+" "+i.formControl}),void 0!==n?l.a.createElement(wt.a,Object.assign({className:i.labelRoot+g,htmlFor:o},c),n):null,l.a.createElement(Lt.a,Object.assign({value:t.value,classes:{root:f,disabled:i.disabled},id:o,className:i.select},p),h.map((e,t)=>l.a.createElement(At.a,{key:t,value:t},e))),d?l.a.createElement(Et.a,{className:i.feedback+" "+i.labelRootError}):m?l.a.createElement(vt.a,{className:i.feedback+" "+i.labelRootSuccess}):null)))})),Vt=a(182),qt=a(77),Ut=a.n(qt),$t=a(32),Yt=a(793);var Gt=()=>({main:{display:"flex",paddingTop:"1px"},selectButton:{height:"40px",float:"left",marginTop:"20px",marginRight:"15px"}});class Kt extends l.a.Component{constructor(e){if(super(e),this.renderInput=e=>l.a.createElement("div",{className:this.props.classes.main},l.a.createElement(Nt,{onClick:()=>{e.onClick()},color:"warning",className:this.props.classes.selectButton},"Select"),l.a.createElement(It,Object.assign({id:e.id,value:e.value,labelText:this.props.title,formControlProps:{disabled:!0,fullWidth:!0}},e.inputProps))),this.getLocalDateFormat=e=>Ut.a.utc(e,"YYYY-MM-DDTHH-mm-ss").local().locale("en").format("YYYY-MM-DD"),this.getLocalDate=e=>Ut()(this.getLocalDateFormat(e)).toDate(),this.onChange=(e,t=!0)=>{""===e&&this.props.autoCleanOnSelect?(t&&this.setState({date:null}),this.props.onChange(null)):(t&&this.setState({date:this.getLocalDate(e)}),this.props.onChange(this.getLocalDateFormat(e)))},this.state={date:null},Ut.a.locale("en"),""!==this.props.date&&null!==this.props.date&&void 0!==this.props.date){var t=Ut.a.utc(this.props.date,"YYYY-MM-DDTHH-mm-ss").format("YYYY-MM-DDTHH-mm-ss");this.onChange(t,!1),this.state={date:this.getLocalDate(t)}}}render(){const e=Object(b.a)({direction:"ltr",typography:{useNextVariants:!0},palette:{primary:{main:"#00acc1"},secondary:{main:"#f44336"}},overrides:{MuiPickersToolbarText:{toolbarTxt:{color:"#E9E9E9"},toolbarBtnSelected:{color:"#FFFFFF"}}}});return l.a.createElement("div",null,l.a.createElement(y.a,{theme:e},l.a.createElement($t.a,{utils:Vt.a},l.a.createElement(Yt.a,{style:{width:"100%",marginTop:"10px",".MuiInput-input":{color:"#FF00FF"}},clearable:!0,margin:"normal",id:"date-picker-dialog",label:this.props.title,format:"yyyy/MM/dd",value:this.state.date,onChange:e=>{null==e?this.onChange(""):this.onChange(Ut()(e).format("YYYY-MM-DD"))},TextFieldComponent:this.renderInput}))))}}Kt.defaultProps={title:"Date",onChange:()=>{},autoCleanOnSelect:!0};var Jt=Le(Kt,[],(function(e){return{app:e.app}}),Gt),Xt=a(189),Qt=a(797);class Zt extends l.a.Component{constructor(...e){super(...e),this.onChangeHandler=(e,t,a="value")=>{let s={};var i="",r=t.split(".");if("raw"===a&&(i=e),"text"===a&&(i=e.target.value),"value"===a&&(i=e.target.value),"file"===a&&(i=e.target.files[0],e.target.value=null),"check"===a&&(i=e.target.checked),1===r.length&&(s[r[0]]=i),2===r.length){try{s[r[0]]=this.state[r[0]]}catch(e){s[r[0]]={}}s[r[0]][r[1]]=i}this.setState(s)},this.isEmptyString=e=>""===e||null===e||void 0===e,this.checkConditionWithError=(e,t)=>!!e&&(z.b.error(t),!0),this.checkIsEmptyTextWithNameError=(e,t)=>this.checkConditionWithError(this.isEmptyString(e),t+" must not be empty."),this.createCalendarInput=(e,t)=>{var a=e.split(".");return l.a.createElement(Jt,{date:1===a.length?this.state[a[0]]:this.state[a[0]][a[1]],onChange:t=>{this.onChangeHandler(t,e,"raw")},title:t})},this.createImageInput=e=>{const t=this.props.classes;return l.a.createElement("div",{className:t.photoBox},l.a.createElement(Xt.a,{className:t.imageCard,onClick:()=>{this["inputElement_"+e].click()}},void 0!==this.state[e]&&""!==this.state[e]?l.a.createElement(Xt.a,{className:t.imageCard},l.a.createElement("img",{alt:"",src:this.state[e+"_uri"],className:t.imageCard}),l.a.createElement(Qt.a,{onClick:t=>{t.stopPropagation(),this.onChangeHandler("",e,"raw")},className:t.imageDeleteIcon},"delete")):l.a.createElement(Qt.a,{className:t.imageAddIcon},"camera_alt")),l.a.createElement("input",{id:e,name:e,type:"file",accept:".png,.jpg,.jpeg",className:t.fileInput,ref:t=>this["inputElement_"+e]=t,onChange:t=>{this.setState(()=>({loadingDialogOpen:!0})),this.props.uploadImage(this.state.id,t.target.files[0],e,t=>{this.onChangeHandler(t.url,e,"raw"),re(t.url,"image",!0,t=>{this.onChangeHandler(t,e+"_uri","raw")}),this.setState(()=>({loadingDialogOpen:!1}))},()=>{this.setState(()=>({loadingDialogOpen:!1}))}),t.target.value=null}}))}}}Zt.defaultProps={};var ea=Zt;var ta=()=>({inputLTR:{direction:"ltr"},mainBox:{width:"500px"},horizontal:{display:"flex"},cardTitleWhite:{width:"50%",height:"30px",float:"left",marginTop:"12px",marginBottom:"12px",marginLeft:"5px",fontSize:"17px"},logoutButton:{cursor:"pointer",color:"blue"},loadingItem:{width:"50%",marginTop:"12px",marginBottom:"12px",float:"right"},bottomOptions:{width:"100%"},submitButton:{height:"40px",float:"right"},remainingTitle:{marginLeft:"10px"},photoBox:{position:"relative",width:"100%",paddingTop:"133%",marginTop:"10px",marginBottom:"10px"},imageCard:{width:"100%",height:"100%",position:"absolute",top:0,left:0,borderRadius:"5px",border:"none",backgroundColor:"#F0F0F0",objectFit:"cover"},imageTitle:{color:"#303030",fontSize:"14px",marginTop:"10px"},imageAddIcon:{width:"80px",height:"80px",position:"absolute",top:"50%",left:"50%",marginTop:"-40px",marginLeft:"-40px",border:"none",fontSize:"80px",color:"#C0C0C0",opacity:"0.5"},imageDeleteIcon:{width:"30px",height:"30px",position:"absolute",top:"10px",left:"10px",border:"none",fontSize:"30px",color:"#FF0000",opacity:"0.9",padding:"7px",borderRadius:"15px",backgroundColor:"#FFFFFF",cursor:"pointer"},fileInput:{display:"none"},fileButton:{height:"40px",float:"left",marginTop:"20px",marginLeft:"15px"},checkItem:{marginTop:"12px",borderBottom:"1px solid #dbdbdb"},checkBox:{float:"left"},checkTitle:{lineHeight:"45px",marginRight:"0px",fontSize:"15px",color:"black",textAlign:"left"},checkedIcon:{width:"20px",height:"20px",border:"1px solid rgba(0, 0, 0, .54)",borderRadius:"3px"},uncheckedIcon:{width:"0px",height:"0px",padding:"10px",border:"1px solid rgba(0, 0, 0, .54)",borderRadius:"3px"},selectButton:{height:"40px",float:"left",marginTop:"20px",marginLeft:"15px"},downloadButton:{height:"40px",float:"left",marginTop:"20px",marginRight:"15px"}});class aa extends ea{constructor(e){super(e),this.updateProfile=()=>{if(!(this.checkIsEmptyTextWithNameError(this.state.first_name,"First Name")||this.checkIsEmptyTextWithNameError(this.state.last_name,"Last Name")||this.checkIsEmptyTextWithNameError(this.state.age,"Age")||this.checkIsEmptyTextWithNameError(this.state.sex,"Sex")||this.checkConditionWithError(parseInt(this.state.age)<0,"The sex field is less than 1.")||this.checkIsEmptyTextWithNameError(this.state.birth_date,"Birth Date")||this.checkIsEmptyTextWithNameError(this.state.duration_of_hospitalization,"Duration of Hospitalization")||this.checkConditionWithError(parseInt(this.state.birth_order)<0,"The birth order field is less than 1.")||this.checkConditionWithError(parseInt(this.state.number_of_children_in_family)<0,"The number of children in family field is less than 1."))){var e={first_name:this.state.first_name,last_name:this.state.last_name,age:parseInt(this.state.age),sex:this.state.sex,photo:this.state.photo,birth_date:this.state.birth_date,address:this.state.address,post_code:this.state.post_code,work_tel:this.state.work_tel,home_tel:this.state.home_tel,mobile:this.state.mobile,duration_of_hospitalization:this.state.duration_of_hospitalization,illness_severity:this.state.illness_severity,disease_background:this.state.disease_background,family_disease_background:this.state.family_disease_background,history_of_drug_use:this.state.history_of_drug_use,family_history_of_drug_use:this.state.family_history_of_drug_use,more_information:this.state.more_information};null!=this.state.birth_order&&""!==this.state.birth_order&&(e.birth_order=parseInt(this.state.birth_order)),null!=this.state.number_of_children_in_family&&""!==this.state.number_of_children_in_family&&(e.number_of_children_in_family=parseInt(this.state.number_of_children_in_family)),this.props.updateProfile(this.state.role,this.state.id,e)}},this.props.getProfile(this.props.user.profile.role,this.props.user.profile.id),re(e.user.profile.photo,"image",!0,e=>{this.onChangeHandler(e,"photo_uri","raw")}),this.state={id:e.user.profile.id,role:e.user.profile.role,email:e.user.profile.email,first_name:e.user.profile.first_name,last_name:e.user.profile.last_name,age:e.user.profile.age,sex:e.user.profile.sex,photo:e.user.profile.photo,birth_date:e.user.profile.birth_date,address:e.user.profile.address,post_code:e.user.profile.post_code,work_tel:e.user.profile.work_tel,home_tel:e.user.profile.home_tel,mobile:e.user.profile.mobile,duration_of_hospitalization:e.user.profile.duration_of_hospitalization,illness_severity:e.user.profile.illness_severity,disease_background:e.user.profile.disease_background,family_disease_background:e.user.profile.family_disease_background,history_of_drug_use:e.user.profile.history_of_drug_use,family_history_of_drug_use:e.user.profile.family_history_of_drug_use,birth_order:e.user.profile.birth_order,number_of_children_in_family:e.user.profile.number_of_children_in_family,more_information:e.user.profile.more_information}}render(){const e=this.props.classes;return l.a.createElement("div",null,l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(qe,null,l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Edit account"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,this.props.user.profile.is_profile_updated?null:l.a.createElement("p",null,"To use the account, you must first complete the basic information of your profile."),l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{value:this.state.email,labelText:"Email",id:"email",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{value:-this.props.user.profile.balance,labelText:"Balance",id:"balance",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:8,md:9},l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.first_name,labelText:"First Name * (Mandatory)",id:"first_name",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"first_name","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.last_name,labelText:"Last Name * (Mandatory)",id:"last_name",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"last_name","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.age,labelText:"Age * (Mandatory)",id:"age",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{type:"number",onChange:e=>{this.onChangeHandler(e,"age","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Mt,{value:this.state.sex,labelText:"Sex * (Mandatory)",id:"sex",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"sex")}},items:["Male","Female","Other"]})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Jt,{date:this.state.birth_date,onChange:e=>{this.onChangeHandler(e,"birth_date","raw")},title:"Birth Date * (Mandatory)"})))),l.a.createElement(gt,{xs:12,sm:4,md:3},l.a.createElement("p",{className:this.props.classes.imageTitle},"Photo"),this.createImageInput("photo")),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.address,labelText:"Address",id:"address",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{multiline:!0,rows:3,onChange:e=>{this.onChangeHandler(e,"address","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.post_code,labelText:"Post Code",id:"post_code",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"post_code","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.work_tel,labelText:"Work Tel",id:"work_tel",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"work_tel","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.home_tel,labelText:"Home Tel",id:"home_tel",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"home_tel","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.mobile,labelText:"Mobile",id:"mobile",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"mobile","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(Mt,{value:this.state.duration_of_hospitalization,labelText:"Duration of Hospitalization * (Mandatory)",id:"duration_of_hospitalization",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"duration_of_hospitalization")}},items:["OutPatient","Less than 1 Week","1-4 Weeks","More then 4 Weeks","None","Unknown"]})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.illness_severity,labelText:"Illness Severity",id:"illness_severity",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"illness_severity","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.disease_background,labelText:"Disease Background",id:"disease_background",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"disease_background","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.family_disease_background,labelText:"Family's Disease Background",id:"family_disease_background",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"family_disease_background","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.history_of_drug_use,labelText:"History of Genetic problem, Mental problem or any Medication",id:"history_of_drug_use",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"history_of_drug_use","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.family_history_of_drug_use,labelText:"Family's History of Genetic problem, Mental problem or any Medication",id:"family_history_of_drug_use",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"family_history_of_drug_use","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.birth_order,labelText:"Birth Order",id:"birth_order",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{type:"number",onChange:e=>{this.onChangeHandler(e,"birth_order","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.number_of_children_in_family,labelText:"Number of Children in Family",id:"number_of_children_in_family",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{type:"number",onChange:e=>{this.onChangeHandler(e,"number_of_children_in_family","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.more_information,labelText:"More Information",id:"more_information",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{multiline:!0,rows:5,onChange:e=>{this.onChangeHandler(e,"more_information","text")}}})))),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.submitButton,color:"primary",onClick:this.updateProfile},"Save")))))))}}aa.defaultProps={app:{loading:0},classes:{},updateProfile:()=>{}},aa.propTypes={app:zt.a.object.isRequired,user:zt.a.object.isRequired,classes:zt.a.object.isRequired,updateProfile:zt.a.func.isRequired};var sa=Le(aa,s,(function(e){return{app:e.app,user:e.user}}),ta),ia=a(819),ra=a(48),na=a(803),oa=a(812),la=a(798),ca=a(799),pa=a(800),da=a(802),ma=a(801);var ha=()=>({mainBox:{width:"100%"},tableBox:{width:"100%"},tableHeader:{color:"#00acc1"},tableDescription:{padding:"10px",marginTop:"10px",fontSize:"13px",border:"1px solid rgba(0, 0, 0, .18)",borderRadius:"3px"},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:Object(Ye.a)(Object(Ye.a)({color:"inherit"},Xe),{},{fontSize:"16px",paddingLeft:"5px !important",paddingRight:"5px !important"}),tableCell:Object(Ye.a)(Object(Ye.a)({},Xe),{},{lineHeight:"1.42857143",padding:"7px 0px",verticalAlign:"middle",textAlign:"center"}),tableResponsive:{width:"100%",overflowX:"auto"},barChartBox:{width:"100%",height:"500px"}});class ua extends l.a.Component{constructor(e){super(e),this.createFullTable=()=>{const e=this.props.classes;let t=["","Raw Score","BR from table","BR X Cor.","BR 1/2X Cor.","BR DA Adj.","BR DD Adj.","BR DC Adj.","BR Inp Adj.","Final BR",""],a=[];var s,i=Object(je.a)(this.props.data.result.items);try{for(i.s();!(s=i.n()).done;){let e=s.value;a.push([e.r,e.w,e.rawbr,e.aftercor,e.afterhcor,e.dabr,e.afterddcor,e.afterdccor,e.afterinp,e.final_br,e.gg])}}catch(r){i.e(r)}finally{i.f()}return l.a.createElement("div",{className:e.tableResponsive},l.a.createElement(la.a,{className:e.table},void 0!==t?l.a.createElement(ca.a,{className:e.tableHeader},l.a.createElement(pa.a,null,t.map((t,a)=>l.a.createElement(ma.a,{className:e.tableCell+" "+e.tableHeadCell,key:a},t)))):null,l.a.createElement(da.a,null,a.map((t,a)=>l.a.createElement(pa.a,{key:a},t.map((t,s)=>l.a.createElement(ma.a,{className:e.tableCell,style:{color:0===s||9===s?0===this.props.data.result.items[a].state?"black":1===this.props.data.result.items[a].state?"orange":"red":"black"},key:s},t)))))))},this.createReportTable=()=>{const e=this.props.classes;let t=["Disorder","Your rate"],a=[];var s,i=Object(je.a)(this.props.data.result.items);try{for(i.s();!(s=i.n()).done;){let e=s.value;2===e.state&&a.push([e.r,e.final_br])}}catch(r){i.e(r)}finally{i.f()}return a.sort((function(e,t){return t[1]-e[1]})),l.a.createElement("div",{className:e.tableResponsive},l.a.createElement(la.a,{className:e.table},void 0!==t?l.a.createElement(ca.a,{className:e.tableHeader},l.a.createElement(pa.a,null,t.map((t,a)=>l.a.createElement(ma.a,{className:e.tableCell+" "+e.tableHeadCell,key:a},t)))):null,l.a.createElement(da.a,null,a.map((t,a)=>l.a.createElement(pa.a,{key:a},t.map((t,a)=>l.a.createElement(ma.a,{className:e.tableCell,key:a},t)))))),l.a.createElement("div",{className:e.tableDescription},"Table Description:",l.a.createElement("br",null),"Rate >= 80 -> Treatment",l.a.createElement("br",null),"Rate >= 90 -> Danger zone",l.a.createElement("br",null),"Rate >= 120 -> Disorder"))},this.createBarChart=()=>{const e=this.props.classes;let t=[];var a,s=Object(je.a)(this.props.data.result.items);try{for(s.s();!(a=s.n()).done;){let e=a.value;2===e.state&&t.push(e)}}catch(i){s.e(i)}finally{s.f()}return l.a.createElement("div",{className:e.barChartBox},l.a.createElement(ra.h,null,l.a.createElement(ra.b,{height:1e3,data:t,barSize:20,margin:{top:20,right:0,bottom:20,left:0}},l.a.createElement(ra.c,{strokeDasharray:"3 3"}),l.a.createElement(ra.j,{type:"category",dataKey:"name"}),l.a.createElement(ra.a,{dataKey:"final_br",fill:"#8884d8"},l.a.createElement(ra.d,{dataKey:"final_br",position:"top",fill:"#666666"})))))},this.createLineChart=()=>{const e=this.props.classes;let t=[];var a,s=Object(je.a)(this.props.data.result.items);try{for(s.s();!(a=s.n()).done;){let e=a.value;2===e.state&&t.push(e.name)}}catch(i){s.e(i)}finally{s.f()}return l.a.createElement("div",{className:e.barChartBox},l.a.createElement(ra.h,null,l.a.createElement(ra.g,{width:730,height:250,data:this.props.data.history,margin:{top:20,right:0,bottom:20,left:0}},l.a.createElement(ra.c,{strokeDasharray:"3 3"}),l.a.createElement(ra.j,{dataKey:"date"}),l.a.createElement(ra.i,null),l.a.createElement(ra.e,null),t.map((e,t)=>l.a.createElement(ra.f,{type:"monotone",dataKey:e,stroke:["#546E7A","#039BE5","#e53935","#3949AB","#FDD835","#FB8C00","#F4511E","#FFB300","#6D4C41","#00897B","#8E24AA","#757575","#5E35B1","#00ACC1","#C0CA33","#7CB342","#1E88E5","#43A047","#D81B60"][t%18],key:t})))))},this.state={tab:this.props.tab}}render(){const e=this.props.classes;return l.a.createElement("div",{className:e.mainBox},l.a.createElement(oa.a,{value:this.state.tab,onChange:(e,t)=>{var a={tab:t};this.setState(()=>a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.a.createElement(na.a,{classes:{root:e.tab},label:"Table"}),l.a.createElement(na.a,{classes:{root:e.tab},label:"Chart"})),1===this.state.tab?l.a.createElement("div",{className:e.tableBox},this.createBarChart(),l.a.createElement("br",null),this.createLineChart()):l.a.createElement("div",{className:e.tableBox},this.createReportTable(),l.a.createElement("br",null),this.createFullTable()))}}ua.defaultProps={tab:0};var ga=Le(ua,[],(function(e){return{app:e.app}}),ha),fa=a(794),ba=a(795),xa=a(761),Ea=a(355),ya=a.n(Ea),va=a(814);var Ca=()=>({warningTableHeader:{color:"#ff9800"},primaryTableHeader:{color:"#00acc1"},dangerTableHeader:{color:"#f44336"},successTableHeader:{color:"#4caf50"},infoTableHeader:{color:"#00acc1"},roseTableHeader:{color:"#e91e63"},grayTableHeader:{color:"#999999"},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:Object(Ye.a)(Object(Ye.a)({color:"inherit"},Xe),{},{fontSize:"1em"}),tableCell:Object(Ye.a)(Object(Ye.a)({},Xe),{},{lineHeight:"1.42857143",padding:"0px 0px",verticalAlign:"middle",textAlign:"center"}),tableResponsive:{width:"100%",overflowX:"auto"},editButton:{minWidth:"40px",padding:"5px",color:"#00acc1"},imageButton:{minWidth:"40px",padding:"5px"},checkedIcon:{width:"20px",height:"20px",border:"1px solid rgba(0, 0, 0, .54)",borderRadius:"3px"},uncheckedIcon:{width:"0px",height:"0px",padding:"10px",border:"1px solid rgba(0, 0, 0, .54)",borderRadius:"3px"},tableRow:{cursor:"pointer"},linkCell:{color:"#0000FF","&:hover":{color:"#0000FF"}},textCell:{paddingTop:"15px",paddingBottom:"15px"}});class wa extends l.a.Component{constructor(e){super(e),this.classes=e.classes}render(){return l.a.createElement("div",{className:this.classes.tableResponsive},l.a.createElement(la.a,{className:this.classes.table},l.a.createElement(ca.a,{className:this.classes.primaryTableHeader},l.a.createElement(pa.a,null,this.props.tableHead.map((e,t)=>l.a.createElement(ma.a,{className:this.classes.tableCell+" "+this.classes.tableHeadCell,key:t,width:e.size},l.a.createElement("div",{className:this.classes.textCell},e.name))))),l.a.createElement(da.a,null,this.props.tableData.map((e,t)=>l.a.createElement(pa.a,{className:this.classes.tableRow,key:t,onClick:()=>this.props.handleSelect(this.props.getItemId(this.props.items[t]),this.props.getItemName(this.props.items[t]),this.props.items[t])},e.map((e,a)=>({text:l.a.createElement(ma.a,{className:this.classes.tableCell,key:a},l.a.createElement("div",{className:this.classes.textCell},e.value)),button:l.a.createElement(ma.a,{className:this.classes.tableCell,key:a},l.a.createElement(St.a,{key:a,className:this.classes.deleteButton,"aria-label":"Delete",onClick:a=>{a.stopPropagation(),e.handle(this.props.getItemId(this.props.items[t]),this.props.getItemName(this.props.items[t]))}},l.a.createElement(Qt.a,{color:e.color},e.icon))),check:l.a.createElement(ma.a,{className:this.classes.tableCell,key:a},l.a.createElement(va.a,{checked:e.value,disabled:!e.enable,onClick:a=>{a.stopPropagation(),!0===e.value?e.handle(this.props.getItemId(this.props.items[t]),e.actionDisable):e.handle(this.props.getItemId(this.props.items[t]),e.actionEnable)},icon:l.a.createElement(vt.a,{className:this.classes.uncheckedIcon}),checkedIcon:l.a.createElement(vt.a,{className:this.classes.checkedIcon})})),link:l.a.createElement(ma.a,{className:this.classes.tableCell,key:a,onClick:e=>{e.stopPropagation()}},l.a.createElement("a",{className:this.classes.linkCell,href:e.link},e.title)),component:l.a.createElement(ma.a,{className:this.classes.tableCell,key:a,onClick:e=>{e.stopPropagation()}},void 0!==e.createComponent?e.createComponent():null)}[e.type])))))))}}wa.defaultProps={items:[],tableData:[],tableHead:[]};var _a=He()(Ca)(wa),ka=a(804);var Ta=()=>({paperDialog:{maxWidth:"1000px"},loadingTitle:{width:"200px",marginTop:"10px",marginBottom:"10px",textAlign:"center"},loadingItem:{float:"center",margin:"0px auto 25px"},cardTitleWhite:{width:"70%",height:"30px",float:"left",marginTop:"12px",marginBottom:"12px",marginRight:"5px",fontSize:"17px"},bottomOptions:{width:"100%",textAlign:"center"},submitButton:{height:"40px",float:"right",marginRight:"10px",marginBottom:"15px"},cancelButton:{height:"40px",float:"right"},reloadButton:{height:"40px",marginRight:"10px",float:"right"},errorText:{fontSize:"15px",height:"20px",paddingTop:"12px",paddingLeft:"10px",color:"red",float:"left"},mainView:{padding:"20px 10px 10px 10px"},dialogContainer:{display:"flex",flexDirection:"column",alignItems:"center"}});class Ia extends l.a.Component{constructor(e){super(e),this.reloadState=0,this.reloadCounter=0,this.updateFormCallBack=(e,t=null,a=null)=>{this.reloadCounter++;let s=this.reloadCounter;setTimeout(()=>{this.reloadCounter===s&&this.setState({itemData:t,itemState:a,error:e},()=>{this.reloadState=s})},500)},this.state={error:"",itemData:{}}}render(){const e=this.props.classes;return l.a.createElement(ft,{justify:"center"},0!==this.props.state?l.a.createElement("div",{className:e.paperDialog},1===this.props.state||3===this.props.state?l.a.createElement(qe,null,l.a.createElement("div",{className:e.dialogContainer},l.a.createElement(ba.a,{className:e.loadingTitle},l.a.createElement(ka.a,null,1===this.props.state?"Receiving information ...":"Saving information ...")),l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(ht.a,{className:e.loadingItem,color:"#00acc1",type:"spin",height:30,width:30})))):l.a.createElement(qe,null,l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Editing information"),l.a.createElement(Nt,{className:e.cancelButton,onClick:()=>{this.props.handleCancel()},color:"danger",autoFocus:!0},"Close"))),l.a.createElement(Ft,{className:e.mainView},l.a.createElement(this.props.editDialog,{id:this.props.itemId,data:this.props.itemData,baseUrl:this.props.baseUrl,baseFilter:this.props.baseFilter,baseState:null===this.props.itemData?this.state.itemState:null,enableEdit:this.props.enableEdit,handleCancel:()=>this.props.handleCancel(),handleReload:()=>this.props.handleReload(),handleReloadPage:()=>this.props.handleReloadPage(),updateFormCallBack:(e,t=null,a=null)=>this.updateFormCallBack(e,t,a)})),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement("div",{className:e.errorText},this.state.error),this.props.enableEdit?l.a.createElement(Nt,{className:e.submitButton,onClick:()=>{this.reloadCounter===this.reloadState&&this.props.handleSubmit(this.props.itemId,this.state.itemData)},color:"success",autoFocus:!0,disabled:null===this.state.itemData},"Save"):null)))):null)}}var Sa=Le(Ia,[],(function(e){return{app:e.app}}),Ta);class Pa extends l.a.Component{constructor(e){super(e),this.reloadState=0,this.reloadCounter=0,this.updateFormCallBack=(e,t=null,a=null)=>{this.reloadCounter++;let s=this.reloadCounter;setTimeout(()=>{this.reloadCounter===s&&this.setState({itemData:t,itemState:a,error:e},()=>{this.reloadState=s})},500)},this.state={error:"",itemData:{}}}render(){const e=this.props.classes;return l.a.createElement(fa.a,{classes:{paper:e.paperDialog},open:0!==this.props.state,onClose:()=>this.props.handleCancel()},1===this.props.state||3===this.props.state?l.a.createElement("div",null,l.a.createElement(ba.a,{className:e.loadingTitle},l.a.createElement(ka.a,null,1===this.props.state?"Receiving information ...":"Saving information ...")),l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(ht.a,{className:e.loadingItem,color:"#00acc1",type:"spin",height:30,width:30}))):l.a.createElement("div",null,l.a.createElement(Ft,{className:e.mainView},l.a.createElement(this.props.editDialog,{id:this.props.itemId,data:this.props.itemData,baseUrl:this.props.baseUrl,baseFilter:this.props.baseFilter,baseState:null===this.props.itemData?this.state.itemState:null,enableEdit:this.props.enableEdit,handleCancel:()=>this.props.handleCancel(),handleReload:()=>this.props.handleReload(),handleReloadPage:()=>this.props.handleReloadPage(),updateFormCallBack:(e,t=null,a=null)=>this.updateFormCallBack(e,t,a)})),this.props.enableEdit?l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement("div",{className:e.errorText},this.state.error),l.a.createElement(Nt,{className:e.submitButton,onClick:()=>{this.reloadCounter===this.reloadState&&this.props.handleSubmit(this.props.itemId,this.state.itemData)},color:"success",autoFocus:!0,disabled:null===this.state.itemData},"Save"))):null))}}var Na=Le(Pa,[],(function(e){return{app:e.app}}),Ta),Da=a(805);var Fa=()=>({bottomOptions:{width:"100%"},confirmButton:{height:"40px",width:"80px",float:"right",marginTop:"10px",marginBottom:"10px"},contentText:{padding:"0px 24px 5px"}});class Oa extends l.a.Component{render(){const e=this.props.classes;return l.a.createElement(fa.a,{open:this.props.open,onClose:()=>this.props.handleCancel()},l.a.createElement(Da.a,null,this.props.title),l.a.createElement(ba.a,{className:e.contentText},l.a.createElement(ka.a,null,this.props.description)),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.confirmButton,onClick:()=>this.props.handleConfirm(),color:this.props.buttonColor,autoFocus:!0},"Yes"))))}}Oa.defaultProps={buttonColor:"danger"};var Ba=Le(Oa,[],(function(e){return{app:e.app}}),Fa);var Ra=()=>({mainCard:{marginTop:"40px",marginBottom:"10px"},cardTitleWhite:{width:"50%",height:"30px",float:"left",marginTop:"12px",marginBottom:"12px",marginLeft:"10px",fontSize:"17px"},loadingItem:{width:"30%",float:"right",marginTop:"12px",marginRight:"12px"},bottomOptions:{marginTop:"15px",marginBottom:"5px",textAlign:"center"},pagination:{justifyContent:"center"},paginationBox:{paddingTop:"7px",marginRight:"20px"},pageSizeInput:{height:"30px",marginBottom:"47px"},submitButton:{height:"40px",width:"80px",float:"right",marginRight:"10px"},filterView:{paddingTop:"10px",paddingBottom:"0px"},tableView:{paddingTop:"0px"}});class ja extends l.a.Component{constructor(e){super(e),this.getFilter=()=>this.filter+(void 0!==this.props.baseFilter&&null!==this.props.baseFilter?this.props.baseFilter:""),this.getPage=(e=0)=>{var t=this.props.baseUrl;t+="?per_page="+(this.props.enableSinglePage?-1:this.state.meta.per_page),this.props.enableSinglePage||(t+="&page="+(e/this.state.meta.per_page+1).toString()),t+=this.getFilter(),this.props.enableDefaultLoad||""!==this.filter?te(t,t=>{var a,s=1,i=[],r=Object(je.a)(t.data.list);try{for(r.s();!(a=r.n()).done;){var n=a.value;i.push(this.getRowItems(e,s,n)),s+=1}}catch(o){r.e(o)}finally{r.f()}void 0===t.data.meta&&(t.data.meta={total:1,page:1,pages:1,per_page:1,has_next:!1,has_prev:!1}),this.setState({tableData:i,meta:t.data.meta,items:t.data.list})},t=>{404===t.response.status&&0!==e&&(this.getPage(0),z.b.error("The number of items is less than the requested value. You will be automatically returned to the first page."))},!0,!0,{enable:!0}):this.setState({tableData:[],meta:{has_next:!1,has_prev:!1,page:1,pages:1,per_page:10,total:0},items:[]})},this.reload=(e=!1)=>{var t=(this.state.meta.page-1)*this.state.meta.per_page;e&&t>=this.state.meta.total-1&&(t-=this.state.meta.per_page),this.getPage(Math.max(0,t))},this.getHeadItems=()=>{var e=[{name:"#",size:"60px"}].concat(this.props.tableHead);return this.props.enableDelete&&(e=e.concat({name:"Delete",size:"30px"})),e},this.getRowItems=(e,t,a)=>{var s=[{type:"text",value:(e+t).toString()}],i=this.props.getItemRow(a);for(var r in i)"check"===i[r].type&&(i[r].handle=(e,t)=>{this.changeStateItem(e,t)});return s=s.concat(i),this.props.enableDelete&&(s=s.concat({type:"button",icon:"delete",color:"error",handle:(e,t)=>{this.handleOpenDeleteConfirmDialog(e,t)}})),s},this.getItem=(e,t)=>{if(this.props.loadWithoutRequest){var a=this;setTimeout((function(){a.handleLoadEditDialog(e,t)}),1e3)}else te(this.props.baseUrl+"/"+e+(this.props.enableFilterForGet?"?"+this.getFilter():""),t=>{this.handleLoadEditDialog(e,t.data)})},this.deleteItem=e=>{((e="",t={},a=(()=>{}),s=(()=>{}),i=!0,r=!0,n={enable:!0},o=!0)=>{ee({url:e,data:t,method:"delete"},a,s,i,r,n,o)})(this.props.baseUrl+"/"+e,{},()=>{this.reload(!0)})},this.createItem=e=>{se(this.props.baseUrl,e,e=>{this.reload(),this.handleCloseEditDialog(!0),this.props.closeAfterCreate||this.handleOpenEditDialog(e.data.id,e.data),z.b.success("The process was successful.")},()=>{this.handleLoadEditDialog(null,null)})},this.updateItem=(e,t)=>{ae(this.props.baseUrl+"/"+e+this.props.editUrlSuffix,t,a=>{this.reload(),this.handleCloseEditDialog(!0),this.props.closeAfterUpdate||this.handleOpenEditDialog(a.data.id,a.data),this.props.saveCallBack(e,t),z.b.success("The process was successful.")},()=>{this.handleLoadEditDialog(e,null)})},this.changeStateItem=(e,t)=>{se(this.props.baseUrl+"/"+e+"/"+t,{},()=>{this.reload(),z.b.success("The process was successful.")})},this.handlePageChange=e=>{this.getPage(e)},this.handleOpenEditDialog=(e,t)=>{this.getItem(e,t),this.setState(()=>({editDialogState:1,selectedItemId:e}))},this.handleLoadEditDialog=(e,t)=>{this.setState(()=>({editDialogState:2,selectedItemId:e,selectedItemData:t}))},this.handleSendEditDialog=(e,t)=>{null===e||""===e?this.createItem(t):this.updateItem(e,t),this.setState(()=>({editDialogState:3}))},this.handleCloseEditDialog=(e=!1)=>{(e||1!==this.state.editDialogState&&3!==this.state.editDialogState)&&this.setState(()=>({editDialogState:0}))},this.handleOpenDeleteConfirmDialog=(e,t)=>{this.setState(()=>({deleteConfirmDialogOpen:!0,selectedItemId:e,selectedItemName:t}))},this.handleCloseDeleteConfirmDialog=()=>{this.setState(()=>({deleteConfirmDialogOpen:!1}))},this.filter="",this.state={items:[],meta:{page:1,per_page:null===this.props.pageSize?10:this.props.pageSize},tableData:[],selectedItemId:"",selectedItemName:"",selectedItemData:{},editDialogState:0,deleteConfirmDialogOpen:!1,isEnableFilterComponent:!this.props.enableDefaultLoad}}componentDidMount(){this.reload()}render(){const e=this.props.classes;return l.a.createElement("div",null,l.a.createElement(Ba,{open:this.state.deleteConfirmDialogOpen,title:"Delete",description:'Are you sure you want to delete "'.concat(this.state.selectedItemName,'"?'),handleConfirm:()=>{this.handleCloseDeleteConfirmDialog(),this.deleteItem(this.state.selectedItemId)},handleCancel:()=>this.handleCloseDeleteConfirmDialog()}),null==this.props.addDialog||""!==this.state.selectedItemId&&null!==this.state.selectedItemId&&void 0!==this.state.selectedItemId?null!=this.props.editDialog?"dialog"!==this.props.editType?l.a.createElement(Sa,{state:this.state.editDialogState,itemId:this.state.selectedItemId,itemData:this.state.selectedItemData,handleSubmit:(e,t)=>{this.handleSendEditDialog(e,t)},handleReload:()=>this.handleOpenEditDialog(this.state.selectedItemId,this.state.selectedItemData),handleReloadPage:()=>this.reload(),handleCancel:()=>this.handleCloseEditDialog(),editDialog:this.props.editDialog,enableEdit:this.props.enableEdit||this.props.enableAdd&&(""===this.state.selectedItemId||void 0===this.state.selectedItemId),baseUrl:this.props.baseUrl,baseFilter:this.getFilter()}):l.a.createElement(Na,{state:this.state.editDialogState,itemId:this.state.selectedItemId,itemData:this.state.selectedItemData,handleSubmit:(e,t)=>{this.handleSendEditDialog(e,t)},handleReload:()=>this.handleOpenEditDialog(this.state.selectedItemId,this.state.selectedItemData),handleReloadPage:()=>this.reload(),handleCancel:()=>this.handleCloseEditDialog(),editDialog:this.props.editDialog,enableEdit:this.props.enableEdit||this.props.enableAdd&&(""===this.state.selectedItemId||void 0===this.state.selectedItemId),baseUrl:this.props.baseUrl,baseFilter:this.getFilter()}):null:"dialog"!==this.props.editType?l.a.createElement(Sa,{state:this.state.editDialogState,itemId:this.state.selectedItemId,itemData:this.state.selectedItemData,handleSubmit:(e,t)=>{this.handleSendEditDialog(e,t)},handleReload:()=>this.handleOpenEditDialog(this.state.selectedItemId,this.state.selectedItemData),handleReloadPage:()=>this.reload(),handleCancel:()=>this.handleCloseEditDialog(),editDialog:this.props.addDialog,enableEdit:!0,baseUrl:this.props.baseUrl,baseFilter:this.getFilter()}):l.a.createElement(Na,{state:this.state.editDialogState,itemId:this.state.selectedItemId,itemData:this.state.selectedItemData,handleSubmit:(e,t)=>{this.handleSendEditDialog(e,t)},handleReload:()=>this.handleOpenEditDialog(this.state.selectedItemId,this.state.selectedItemData),handleReloadPage:()=>this.reload(),handleCancel:()=>this.handleCloseEditDialog(),editDialog:this.props.addDialog,enableEdit:!0,baseUrl:this.props.baseUrl,baseFilter:this.getFilter()}),"dialog"!==this.props.editType&&this.state.editDialogState?null:l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{xs:this.props.tableSize[2],sm:this.props.tableSize[1],md:this.props.tableSize[0]},l.a.createElement(qe,{className:e.mainCard},l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},this.props.title),this.props.enableAdd?l.a.createElement(Nt,{className:e.submitButton,onClick:()=>this.handleLoadEditDialog("",{}),color:"warning"},"Add"):null,null!=this.props.filterComponent?l.a.createElement(Nt,{className:e.submitButton,onClick:()=>{this.setState({isEnableFilterComponent:!this.state.isEnableFilterComponent})},color:"warning"},"Filter"):null,this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),null!=this.props.filterComponent&&this.state.isEnableFilterComponent?l.a.createElement($e,{className:e.filterView},l.a.createElement(this.props.filterComponent,{updateFilter:e=>{this.filter=e,this.reload()}})):null,l.a.createElement($e,{className:e.tableView},l.a.createElement(_a,{tableHeaderColor:"primary",tableHead:this.getHeadItems(),items:this.state.items,getItemId:this.props.getItemId,getItemName:this.props.getItemName,tableData:this.state.tableData,enableEdit:this.props.enableEdit,enableDelete:this.props.enableDelete,handleSelect:(e,t,a)=>{null!=this.props.handleSelect?this.props.handleSelect(e,t,a):null!=this.props.editDialog&&this.handleOpenEditDialog(e,a)}}),null===this.state.meta.page?null:l.a.createElement(xa.a,{className:e.pagination},this.props.enableSinglePage?null:l.a.createElement(ya.a,{size:"large",className:e.paginationBox,limit:this.state.meta.per_page,offset:(this.state.meta.page-1)*this.state.meta.per_page,total:this.state.meta.total,nextPageLabel:"",previousPageLabel:"",onClick:(e,t)=>this.handlePageChange(t)}),this.props.enableSinglePage||null!==this.props.pageSize?null:l.a.createElement("div",{className:e.pageSizeInput},l.a.createElement(Mt,{value:20===this.state.meta.per_page?1:50===this.state.meta.per_page?2:0,id:"item_count",formControlProps:{disabled:!1,fullWidth:!1},inputProps:{onChange:e=>{var t=this.state.meta;t.per_page=[10,20,50][e.target.value],this.setState({meta:t}),this.getPage(0)}},items:[10,20,50]}))))))))}}ja.defaultProps={saveCallBack:()=>{},pageSize:10,baseFilter:"",enableFilterForGet:!1,editDialog:null,handleSelect:null,filterComponent:null,editType:"dialog",closeAfterCreate:!0,closeAfterUpdate:!0,editUrlSuffix:"",enableDefaultLoad:!0,loadWithoutRequest:!1};var Wa=Le(ja,[],(function(e){return{app:e.app}}),Ra);var Ha=()=>({mainView:{width:"600px"}});class za extends l.a.Component{render(){const e=this.props.classes;return l.a.createElement(fa.a,{open:this.props.open,onClose:()=>this.props.handleCancel()},l.a.createElement(Ft,null,l.a.createElement("div",{className:e.mainView},l.a.createElement(Wa,{tableSize:[12,12,12],title:this.props.title,baseUrl:this.props.baseUrl,baseFilter:this.props.baseFilter,tableHead:this.props.getHeader(),getItemId:e=>e.id,getItemName:e=>e.name,getItemRow:e=>this.props.getItemRow(e),pageSize:5,enableAdd:!1,enableEdit:!1,enableDelete:!1,handleSelect:(e,t,a)=>{this.props.handleSelect(e,this.props.getItemRow(a)[0].value,a)},filterComponent:void 0!==this.props.filterComponent?this.props.filterComponent:qa,enableDefaultLoad:!0}))))}}za.defaultProps={open:!1,title:"",baseUrl:"",baseFilter:"",filterComponent:qa,getHeader:()=>[{name:"Name",size:null}],getItemRow:e=>[{type:"text",value:e.name}],handleSelect:()=>{},handleCancel:()=>{}};var La=Le(za,[],(function(e){return{app:e.app}}),Ha);var Aa=()=>({filterButton:{width:"100%",height:"40px",float:"right",marginTop:"20px"},listItem:{padding:"0px"},selectButton:{width:"80px",height:"40px",float:"left",marginTop:"20px",marginRight:"15px"}}),Ma=l.a.Component;class Va extends Ma{constructor(e){super(e),this.filters=[],this.initState=()=>{this.state={},this.initSelectItemState()},this.isEmptyString=e=>""===e||null===e||void 0===e,this.onChangeHandler=(e,t,a="value")=>{let s={};var i="";"raw"===a&&(i=e),"value"===a&&(i=e.target.value),"check"===a&&(i=e.target.checked),s[t]=i,this.setState(s)},this.filter=()=>{this.props.updateFilter(this.createFilter())},this.createFilter=()=>{var e,t="",a=Object(je.a)(this.filters);try{for(a.s();!(e=a.n()).done;){var s=e.value;this.isEmptyString(this.state[s])||("___"!==this.state[s+"_key"]&&void 0!==this.state[s+"_key"]?t+="&"+s+"="+this.state[s+"_key"]:"___"!==this.state[s+"_key"]&&(t+="&"+s+"="+this.state[s]))}}catch(i){a.e(i)}finally{a.f()}return t},this.initSelectItemState=()=>{this.state.selectDialogOpen=!1,this.state.selectDialogTag="",this.state.selectDialogTitle="",this.state.selectDialogBaseUrl=""},this.handleSelectItem=(e,t,a)=>{var s={selectDialogOpen:!1},i=this.state.selectDialogTag;s[i]=e,s[i+"_name"]=t,this.setState(()=>s)},this.handleOpenSelectDialog=(e,t,a)=>{this.setState(()=>({selectDialogOpen:!0,selectDialogTag:e,selectDialogTitle:t,selectDialogBaseUrl:a}))},this.initState()}createSelectDialog(e=null,t=null){return l.a.createElement(La,{open:this.state.selectDialogOpen,title:this.state.selectDialogTitle,baseUrl:this.state.selectDialogBaseUrl,handleSelect:(e,t,a)=>{this.handleSelectItem(e,t,a)},handleCancel:()=>{this.setState(()=>({selectDialogOpen:!1}))},getHeader:()=>[{name:null===e?"Name":e(),size:null}],getItemRow:e=>[{type:"text",value:null===t?e.name:t(e)}]})}createFilterButton(e=3){return l.a.createElement(gt,{xs:e,sm:e,md:e},l.a.createElement(Nt,{onClick:()=>{this.filter()},color:"success",className:this.props.classes.filterButton},"Filter"))}createTextFilter(e,t,a){return-1===this.filters.indexOf(e)&&this.filters.push(e),l.a.createElement(gt,{xs:a,sm:a,md:a},l.a.createElement(It,{value:void 0!==this.state[e]?this.state[e]:"",labelText:t,id:e,formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:t=>{this.onChangeHandler(t,e)}},onEnter:this.filter}))}createSelectFilter(e,t,a,s){-1===this.filters.indexOf(e)&&this.filters.push(e);var i,r=["Default"],n=Object(je.a)(a);try{for(n.s();!(i=n.n()).done;){var o=i.value;r.push(o.name)}}catch(c){n.e(c)}finally{n.f()}return l.a.createElement(gt,{xs:s,sm:s,md:s},l.a.createElement(Mt,{value:void 0!==this.state[e]?this.state[e]:0,labelText:t,id:e,formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:t=>{this.onChangeHandler(t,e);var s=t.target.value-1;this.state[e+"_key"]=s<0?"___":a[s].key}},items:r}))}createObjectFilter(e,t,a,s){return-1===this.filters.indexOf(e)&&this.filters.push(e),l.a.createElement(gt,{xs:s,sm:s,md:s},l.a.createElement(xa.a,{className:this.props.classes.listItem},l.a.createElement(Nt,{onClick:()=>{this.handleOpenSelectDialog(e,"Select "+t,a)},color:"warning",className:this.props.classes.selectButton},"Select"),l.a.createElement(It,{value:void 0!==this.state[e]?this.state[e].name:"",labelText:void 0!==this.state[e]?this.state[e+"_name"]:t,id:e,formControlProps:{disabled:!0,fullWidth:!0}})))}render(){return l.a.createElement("div",null,this.createSelectDialog(),l.a.createElement(ft,null,this.createTextFilter("query","Search",9),this.createFilterButton()))}}Va.propTypes={classes:zt.a.object.isRequired,updateFilter:zt.a.func.isRequired};var qa=Le(Va,[],(function(e){return{app:e.app}}),Aa);const Ua=Va;var $a=()=>({contentText:{padding:"0px 24px 5px"},loadingItem:{float:"center",margin:"0px auto 25px"},bottomOptions:{width:"100%",height:"50px",textAlign:"center",paddingTop:"10px"}});class Ya extends l.a.Component{render(){const e=this.props.classes;return l.a.createElement(fa.a,{open:this.props.open},l.a.createElement(Da.a,null,this.props.title),l.a.createElement(ba.a,{className:e.contentText},l.a.createElement(ka.a,null,this.props.description)),l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(ht.a,{className:e.loadingItem,color:"#00acc1",type:"spin",height:30,width:30})))}}Ya.defaultProps={open:!1};var Ga=Le(Ya,[],(function(e){return{app:e.app}}),$a),Ka=l.a.Component;class Ja extends Ka{constructor(e){super(e),this.initState=()=>{this.initBaseSate(),this.initDataState(),this.updateData()},this.initBaseSate=()=>{this.props.baseState?this.state=this.props.baseState:(this.state=this.createBaseState(),this.initSelectItemState())},this.initDataState=()=>{if(this.data&&!this.isEmptyObject(this.data)){var e=this.createDataState();for(var t in e)this.state[t]=e[t]}},this.updateData=()=>{},this.createBaseState=()=>{},this.createDataState=()=>{},this.isCreateMode=()=>this.isEmptyString(this.props.id),this.isEmptyString=e=>""===e||null===e||void 0===e,this.isEmptyObject=e=>0===Object.keys(e).length,this.checkConditionWithError=(e,t)=>!!e&&(this.props.updateFormCallBack(t),!0),this.checkPatternWithNameError=(e,t,a)=>this.checkConditionWithError(!e.test(t),a+" is incorrect."),this.checkIsEmptyTextWithError=(e,t)=>this.checkConditionWithError(this.isEmptyString(e),t),this.checkIsEmptyTextWithNameError=(e,t)=>this.checkConditionWithError(this.isEmptyString(e),t+" must not be empty."),this.reloadItem="",this.reloadCounter=0,this.onChangeHandler=(e,t,a="value")=>{let s={};var i="",r=t.split(".");if("raw"===a&&(i=e),"text"===a&&(i=e.target.value),"value"===a&&(i=e.target.value),"file"===a&&(i=e.target.files[0],e.target.value=null),"check"===a&&(i=e.target.checked),1===r.length&&(s[r[0]]=i),2===r.length){try{s[r[0]]=this.state[r[0]]}catch(e){s[r[0]]={}}s[r[0]][r[1]]=i}if("text"===a){this.reloadItem=t;let e=this.reloadItem;this.reloadCounter++;let a=this.reloadCounter;setTimeout(()=>{this.reloadCounter!==a&&this.reloadItem===e||this.setState(s,()=>{this.updateData()})},500)}else this.setState(s,()=>{this.updateData()})},this.initSelectItemState=()=>{this.state.selectDialogOpen=!1,this.state.selectDialogTag="",this.state.selectDialogTitle="",this.state.selectDialogBaseUrl="",this.state.selectDialogFilter=qa},this.handleSelectItem=(e,t,a)=>{var s={selectDialogOpen:!1},i=this.state.selectDialogTag,r=this.state.selectDialogType,n=this.state.selectDialogCallBack;if("object"===r)s[i]={},s[i].id=e,s[i].name=t,s[i].data=a;else{var o,l=Object(je.a)(this.state[i]);try{for(l.s();!(o=l.n()).done;){if(o.value.id===e)return void z.b.error("This item is in the list.")}}catch(c){l.e(c)}finally{l.f()}s[i]=this.state[i],s[i].push({id:e,name:t,data:a})}this.setState(()=>s,()=>{this.updateData(),null!==n&&n()})},this.handleOpenSelectDialog=(e,t,a,s,i,r=qa)=>{this.setState(()=>({selectDialogOpen:!0,selectDialogTag:t,selectDialogType:a,selectDialogTitle:s,selectDialogBaseUrl:i,selectDialogCallBack:e,selectDialogFilter:r}))},this.data=this.props.data,this.baseUrl=this.props.baseUrl}componentDidMount(){setTimeout(()=>{document.getElementById("dashboard-header").scrollIntoView()},0)}createLoadingDialog(){return l.a.createElement(Ga,{open:this.state.loadingDialogOpen,title:"Loading",description:"Please wait a moment ..."})}createSelectDialog(e=null,t=null,a="",s){return l.a.createElement(La,{open:this.state.selectDialogOpen,title:this.state.selectDialogTitle,baseUrl:this.state.selectDialogBaseUrl,baseFilter:a,filterComponent:s,handleSelect:(e,t,a)=>{this.handleSelectItem(e,t,a)},handleCancel:()=>{this.setState(()=>({selectDialogOpen:!1}))},getHeader:()=>[{name:null===e?"Name":e(),size:null}],getItemRow:e=>[{type:"text",value:null===t?e.name:t(e)}]})}createCalendarInput(e,t){var a=e.split(".");return l.a.createElement(Jt,{date:1===a.length?this.state[a[0]]:this.state[a[0]][a[1]],onChange:t=>{this.onChangeHandler(t,e,"raw")},title:t})}}Ja.defaultProps={baseUrl:""},Ja.propTypes={id:zt.a.string,data:zt.a.object,baseState:zt.a.object,baseUrl:zt.a.string.baseUrl};var Xa=Ja;var Qa=()=>({main:{width:"1000px"},horizontal:{display:"flex"},dialog:{maxWidth:"1000px"},dialogContent:{paddingTop:"20px",paddingBottom:"15px"},inputLTR:{direction:"ltr"},cardTitleWhite:{width:"70%",height:"30px",float:"left",marginTop:"12px",marginBottom:"12px",marginRight:"5px",fontSize:"17px"},divider:{marginTop:"15px",marginBottom:"10px"},fileInput:{display:"none"},fileButton:{height:"40px",float:"left",marginTop:"20px",marginLeft:"15px"},chipItem:{margin:"5px",paddingLeft:"15px",paddingRight:"10px",background:"#e91e63",color:"white","&:focus":{background:"#e91e63"}},addButton:{height:"40px",float:"left",marginTop:"7px",marginLeft:"15px",minWidth:"130px"},addButtonBig:{width:"100%",height:"40px",float:"left",marginTop:"10px",marginBottom:"20px",minWidth:"130px"},deleteButton:{width:"100%",height:"40px",float:"left",marginTop:"15px",marginLeft:"15px"},selectButton:{height:"40px",float:"left",marginTop:"20px",marginLeft:"15px"},downloadButton:{height:"40px",float:"left",marginTop:"20px",marginRight:"15px"},submitButton:{height:"40px",float:"right"},formBox:{position:"relative",width:"100%",paddingTop:"100%",marginTop:"10px",marginBottom:"10px"},imageCard:{width:"100%",height:"100%",position:"absolute",top:0,left:0,borderRadius:"5px",border:"none",backgroundColor:"#F0F0F0",objectFit:"cover"},imageAddIcon:{width:"80px",height:"80px",position:"absolute",top:"50%",left:"50%",marginTop:"-40px",marginLeft:"-40px",border:"none",fontSize:"80px",color:"#C0C0C0",opacity:"0.5"},imageDeleteIcon:{width:"30px",height:"30px",position:"absolute",top:"10px",left:"10px",border:"none",fontSize:"30px",color:"#FF0000",opacity:"0.9",padding:"7px",borderRadius:"15px",backgroundColor:"#FFFFFF",cursor:"pointer"},moveDown:{width:"25px",cursor:"pointer",color:"rgba(0, 0, 0, 0.26)","&:hover":{color:"rgba(0, 0, 0, 0.4)"},WebkitTapHighlightColor:"transparent"},checkItem:{marginTop:"12px",borderBottom:"1px solid #dbdbdb"},checkBox:{float:"left"},checkTitle:{lineHeight:"45px",marginRight:"0px",fontSize:"15px",color:"black",textAlign:"left"},checkedIcon:{width:"20px",height:"20px",border:"1px solid rgba(0, 0, 0, .54)",borderRadius:"3px"},uncheckedIcon:{width:"0px",height:"0px",padding:"10px",border:"1px solid rgba(0, 0, 0, .54)",borderRadius:"3px"},tab:{minWidth:10},imageTitle:{color:"#303030",fontSize:"14px",marginTop:"10px"},chart:{height:"300px",margin:"20px"},hintText:{color:"#BABABA",fontSize:"14px"},centerLoadingBox:{height:"30px"},centerLoadingDialog:{position:"absolute",left:"50%",marginLeft:"-15px"},suggestionList:{width:"130px",minHeight:"300px",fontSize:"14px",textAlign:"center",paddingTop:"10px",paddingBottom:"10px",backgroundColor:"#FAFAFA",borderRadius:"10px",margin:"5px"},suggestionItem:{width:"calc(100% - 20px)",fontSize:"14px",textAlign:"center",backgroundColor:"#E0E0E0",borderRadius:"10px",padding:"5px",margin:"5px",cursor:"pointer"},suggestionItemSelected:{width:"calc(100% - 20px)",fontSize:"12px",textAlign:"center",color:"#FFFFFF",backgroundColor:"#4caf50",borderRadius:"10px",padding:"5px",margin:"5px",cursor:"pointer"},nextButton:{width:"120px",height:"40px",float:"right"},previousButton:{width:"120px",height:"40px",float:"left"},psychiatristItem:{height:"200px",width:"calc(100% - 40px)",padding:"20px"},psychiatristBox:{height:"200px",width:"calc(100% - 40px)",padding:"20px"},psychiatristImage:{width:"100px",height:"100px",borderRadius:"50px",position:"absolute",left:"50%",marginLeft:"-50px"},psychiatristName:{width:"100%",textAlign:"center",fontSize:"17px",position:"absolute",top:"130px",left:"0px"},psychiatristButton:{width:"90px",height:"35px",marginRight:"10px",position:"absolute",left:"50%",marginTop:"170px",marginLeft:"-45px"}});const Za="/person",es=(e,t,a)=>function(){se(Za+"/"+e+"/submit_test",{choices:t},e=>{z.b.success("The test was successfully registered."),a(e.data.data)},()=>{},!0,!0,{enable:!0})},ts=(e,t,a)=>function(){te(Za+"/"+e+"/psychiatrist_suggestion",e=>{t(e.data.list)},a,!0,!0,{enable:!0})},as=(e,t,a,s,i,r,n)=>function(){te(Za+"/"+e+"/meeting_suggestion?psychiatrist="+t+"&start_date="+a+"&end_date="+s+"&length="+i,e=>{r(e.data.list)},()=>{n()},!0,!0,{enable:!0})},ss=(e,t,a,s,i,r)=>function(){se(Za+"/"+e+"/meeting",{psychiatrist:t,start_time:a,length:s},e=>{i(e.data)},()=>{r()},!0,!0,{enable:!0})},is="/psychiatrist",rs=(e,t,a,s,i,r)=>function(){se(is+"/"+e+"/meeting",{person:t,start_time:a,length:s},e=>{i(e.data)},()=>{r()},!0,!0,{enable:!0})};class ns extends Xa{constructor(e){super(e),this.isFirstOpen=!0,this.createBaseState=()=>({length:null,currentDate:0,psychiatrist:null,psychiatristSuggestions:"",timeBoxSuggestions:"",selectedTimeBox:null,loadingDialogOpen:!1}),this.reloadPsychiatristSuggestions=()=>{this.setState(()=>({psychiatristSuggestions:"loading"})),this.props.getPsychiatristSuggestion(this.props.user.profile.id,e=>{this.setState(()=>({psychiatristSuggestions:e}))},()=>{this.setState(()=>({psychiatristSuggestions:null}))})},this.reloadMeetingSuggestions=()=>{const e=this.props.width;let t=new Date;t.setDate(t.getDate()+this.state.currentDate);let a=new Date;a.setDate(a.getDate()+this.state.currentDate+(Object(ia.c)("sm",e)?7:3)),this.setState(()=>({timeBoxSuggestions:"loading"})),this.props.getMeetingSuggestion(this.props.user.profile.id,this.state.psychiatrist.id,t.toISOString().substring(0,10),a.toISOString().substring(0,10),this.state.length,e=>{this.setState(()=>({timeBoxSuggestions:e,selectedTimeBox:null}))},()=>{this.setState(()=>({timeBoxSuggestions:null}))})},this.createPsychitristItem=e=>{const t=this.props.classes;return l.a.createElement(qe,null,l.a.createElement("div",{className:t.psychiatristItem},l.a.createElement("div",{stule:{position:"relative",height:"120px"}},l.a.createElement("img",{alt:"",src:e.photo,className:t.psychiatristImage})),l.a.createElement("div",{className:t.psychiatristName},e.name,l.a.createElement("br",null),"Score: ",e.score),l.a.createElement("div",null,l.a.createElement(Nt,{className:t.psychiatristButton,onClick:()=>{this.setState(()=>({psychiatrist:e}))},color:"success"},"Select"))))},this.initState()}render(){const e=this.props,t=e.classes,a=e.width;return this.isFirstOpen&&(this.isFirstOpen=!1,null==this.props.psychiatrist?this.reloadPsychiatristSuggestions():this.setState(()=>({psychiatrist:this.props.psychiatrist}))),l.a.createElement(fa.a,{classes:{paper:t.dialog},open:this.props.open,onClose:()=>this.props.handleCancel()},l.a.createElement("div",null,this.createLoadingDialog(),l.a.createElement(ba.a,{className:t.dialogContent},null==this.state.psychiatrist?l.a.createElement(ft,null,"loading"===this.state.psychiatristSuggestions||null===this.state.psychiatristSuggestions?l.a.createElement("div",{className:t.centerLoadingBox},l.a.createElement(ht.a,{className:t.centerLoadingDialog,color:"#00acc1",type:"spin",height:30,width:30})):null,null!==this.state.psychiatristSuggestions&&""!==this.state.psychiatristSuggestions&&"loading"!==this.state.psychiatristSuggestions?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:t.formTitle},"Choose the psychiatrist you want.")):null,null!==this.state.psychiatristSuggestions&&""!==this.state.psychiatristSuggestions&&"loading"!==this.state.psychiatristSuggestions?this.state.psychiatristSuggestions.map((e,t)=>l.a.createElement(gt,{xs:12,sm:6,md:6,key:t},this.createPsychitristItem(e))):null):l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.props.user.profile.name,labelText:"Person",id:"person",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:t.horizontal},l.a.createElement(It,{defaultValue:this.state.psychiatrist.name,labelText:"Psychiatrist",id:"psychiatrist",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.setState(()=>this.createBaseState(),()=>{this.reloadPsychiatristSuggestions()})},color:"success",autoFocus:!0,className:t.fileButton},"Select"))),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Mt,{value:this.state.length,labelText:"Length",id:"length",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.setState(()=>({length:e.target.value}),()=>{this.reloadMeetingSuggestions()})}},items:["30 minutes","60 minutes","90 minutes"]})),null!==this.state.timeBoxSuggestions&&""!==this.state.timeBoxSuggestions&&"loading"!==this.state.timeBoxSuggestions?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Nt,{onClick:()=>{this.setState({currentDate:this.state.currentDate-(Object(ia.c)("sm",a)?7:3)},()=>{this.reloadMeetingSuggestions()})},color:"success",autoFocus:!0,className:t.previousButton},(Object(ia.c)("sm",a),"Previous")),l.a.createElement(Nt,{onClick:()=>{this.setState({currentDate:this.state.currentDate+(Object(ia.c)("sm",a)?7:3)},()=>{this.reloadMeetingSuggestions()})},color:"success",autoFocus:!0,className:t.nextButton},Object(ia.c)("sm",a)?"Next Week":"Next")):null,l.a.createElement(gt,{xs:12,sm:12,md:12},"loading"===this.state.timeBoxSuggestions?l.a.createElement("div",{className:t.centerLoadingBox},l.a.createElement(ht.a,{className:t.centerLoadingDialog,color:"#00acc1",type:"spin",height:30,width:30})):null,null!==this.state.timeBoxSuggestions&&""!==this.state.timeBoxSuggestions&&"loading"!==this.state.timeBoxSuggestions?l.a.createElement("div",{className:t.horizontal},this.state.timeBoxSuggestions.map((e,a)=>l.a.createElement("div",{className:t.suggestionList,key:a},e.date,e.time_boxes.map((e,a)=>l.a.createElement("div",{className:null!=this.state.selectedTimeBox&&this.state.selectedTimeBox.id===e.id?t.suggestionItemSelected:t.suggestionItem,key:a,onClick:()=>{this.setState(()=>({selectedTimeBox:e}))}},e.start_time.substring(11,16),l.a.createElement("br",null),30*(e.length+1),"-minutes"))))):null),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Nt,{onClick:()=>{null!==this.state.length?null!==this.state.selectedTimeBox?(this.setState(()=>({loadingDialogOpen:!0})),this.props.personCreateMeeting(this.props.user.profile.id,this.state.psychiatrist.id,this.state.selectedTimeBox.start_time,this.state.selectedTimeBox.length,()=>{this.setState(this.createBaseState(),()=>{this.props.handleSave()}),z.b.success("New meeting successfully created.")},()=>{this.setState(()=>({loadingDialogOpen:!1}))})):z.b.error("Select the meeting time."):z.b.error("Select the length of the meeting.")},color:"success",autoFocus:!0,className:t.submitButton},"Create"))))))}}ns.propTypes={classes:zt.a.object.isRequired,width:zt.a.string.isRequired,open:zt.a.bool.isRequired,psychiatrist:zt.a.object,handleSave:zt.a.func.isRequired,handleCancel:zt.a.func.isRequired,personCreateMeeting:zt.a.func.isRequired,getMeetingSuggestion:zt.a.func.isRequired};var os=Le(Object(ia.a)()(ns),Object(Ye.a)(Object(Ye.a)({},i),r),(function(e){return{app:e.app,user:e.user}}),Qa);var ls=()=>({inputLTR:{direction:"ltr"},mainBox:{width:"500px"},cardTitleWhite:{width:"50%",height:"30px",float:"left",marginTop:"12px",marginBottom:"12px",marginLeft:"5px",fontSize:"17px"},reloadButton:{height:"40px",marginRight:"10px",float:"right"},loadingItem:{width:"50%",marginTop:"12px",marginBottom:"12px",float:"right"},bottomOptions:{paddingTop:"20px",paddingBottom:"20px",width:"100%"},nextButton:{margin:"15px",height:"40px",float:"right"},previousButton:{margin:"15px",height:"40px",float:"left"},questionCard:{padding:"20px",width:"calc(100% - 80px)",borderRadius:"15px",margin:"20px 0px 0px 20px",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.14)"},questionText:{margin:"10px 0px 10px 0px",padding:"0px",fontSize:"16px"},questionSubmitBox:{height:"55px",paddingTop:"10px"},yesButton:{width:"100px",height:"40px",float:"left",marginRight:"10px"},noButton:{width:"100px",height:"40px",float:"left",marginLeft:"10px"},doneIcon:{marginLeft:"10px"},resultBox:{padding:"30px"},descriptionText:{fontSize:"14px",padding:"20px 20px 0px 20px"},createMeetingBox:{display:"flex",padding:"30px 40px 0px 40px"}});const cs=["Most of the times in my life I act according to my desire instead of doing what others expect me to do.","When I have a choice, I prefer to do things alone.","Most of the time, talking to others is difficult and painful for me.","I believe that in life, things should be done with strong will and determination.","From a few weeks ago, the smallest issue makes me cry.","Some people think that I am a selfish person.","As a teenager, I got into lots of trouble because of bad school behavior.","I always feel that I am not accepted in a group.","I often criticize people strongly if they annoy me.","I like to follow others rather than taking initiative myself.","I enjoy doing so many different things that I can't make up my mind what to do first.","Sometimes I can be pretty rough and mean in my relations with my family.","I have little desire for close friendships.","I think I am a very sociable and outgoing person.","I know I'm a superior person, so I don't care what people think.","People have never given me enough recognition for the things I've done.","I know that I drink too much, but I\u2019m not able to reduce my alcohol consumption or quit it.","I am nervous, anxious and I have cold sweat.","In social groups I am almost always very self-conscious and tense.","Most of the time I do things just for the sake of fun and entertainment.","I get very upset when I see that someone is not doing something in a proper way.","If my family puts pressure on me, I'm likely to feel angry and resist doing what they want.","Most of the times I think I should be punished for what I did.","People make fun of me behind my back, talking about the way I act or look.","I think others are more confident than I am in what they are doing in this world and what they want.","I cry or get angry for no reason","From one or two years ago until now I feel there's nothing inside me, like I'm empty and hollow.","I want others to notice what I do.","I have a hard time keeping my balance when walking.","I enjoy intense competition.","When I get into trouble, I immediately look for someone to help me.","I don\u2019t trust people therefore I don\u2019t share personal information about myself.","I feel weak and tired much of the time.","When faced with a problem, I believe other people get more enraged than I do.","My drug habits have often gotten me into a good deal of trouble in the past.","Lately, I have been crying for no reason.","I think I'm a special person who deserves special attention from others.","Under no circumstances will I allow anyone to abuse me under the pretext of needing help.","One of the ways to have a peaceful world is to reform people's morals.","I used to communicate with a lot of inappropriate people.","I do not tolerate people who show doubt and hesitation.","I am a very agreeable and submissive person.","My bad mood keeps getting me into trouble.","I like people to act according to my wishes, even with coercion.","For the past 12 months, even minor issues bothered me and made me depressed.","Because I want to do everything in the best way, most of my work falls behind.","I am so quiet and withdrawn that most people do not even notice me.","Most of the time I want to be with the opposite sex.","I guess I'm a fearful and inhibited person.","I am a person who makes many mistakes and changes his feelings and beliefs quickly.","Most nights I get upset when I think about daily accidents.","Drinking alcohol has never caused me any real problems in my work.","Lately, my strength seems to be draining out of me, even in the morning.","I began to feel like a failure some years ago.",'I strongly resent "big shots" who always think they can do things better than I can.',"I always have this fear of losing the love of the people I need.","I think I allow people to abuse me too much.","Lately, I have begun to feel like smashing things.","I have recently been seriously considering suicide.","I am always looking to make new friends and meet new people.","I consider all the details in everything I do.","I was on the front cover of several magazines last year.","Nobody likes me.","If someone criticized me for making a mistake, I would quickly point out some of that person's mistakes.","Some people say that I enjoy suffering.","I often let my angry feelings out and then feel terribly guilty about it.","Recently, I feel nervous and under a lot of pressure, but I do not know why.","I very often lose my ability to feel any sensations in parts of my body.","People control my life using magic and the sixth sense.","Taking so-called illegal drugs may be unwise, but in the past I found I needed them.","I'm always tired.","I can't seem to sleep, and wake up just as tired as when I went to bed.","I've done a number of stupid things on impulse that ended up causing me great trouble.","I will never forgive someone who has insulted or embarrassed me.","We must respect past generations and not think we are wiser than them.","I feel terribly depressed and sad much of the time now.","Basically, I am a person who is easily abused by others.","I always try hard to please others, even when I dislike them.","I have been seriously thinking about suicide for several years.","I quickly realize that others are trying to make trouble for me.","I've always had less interest in sex than most people do.","I do not know why, but it seems like I enjoy harassing the people I love.","For the past three months ,I prefer to be alone.","I'd rather die than letting someone take my will and authority from me.","Since I was a child, I have always had to watch out for people who were trying to cheat me.","When things get boring, I like to stir up some excitement.","My disobedience to the law has created problems for me and my family.","I get tired\xa0and overwhelmed\xa0doing my job because I pay too much attention to details.","In my opinion, I am one of the most talented people in the world.","I have not seen a car in the last ten years.","In my opinion, there is no problem in using a person to achieve your goal.","Punishment never stopped me from doing what I wanted.","There are many times, when for no reason, I feel very cheerful and full of excitement.","I ran away from home at least once as a teenager.","Most of the time I say things in a hurry that I later regret saying.","In recent weeks I feel worn out for no special reason.","I haven't done anything right for a while and that's why I really feel guilty.","Ideas keep turning over and over in my mind and they won't go away.","I've become quite discouraged and sad about life in the past year or two.","Many people have been spying into my private life for years.","I don't know why, but I sometimes say cruel things just to make others unhappy.","I either hate or fear most people.","I speak freely regardless of the opinions of others.","When a person in charge tells me to do something, I probably either do not do it or I do it intentionally badly.","My habit of abusing drugs has caused me to miss work in the past.","In order to avoid disagreement, I am always willing to submit to the opinions of others.","I am often cross and grouchy.","I no longer have the patience to argue and fight.","Recently, every subject has been on my mind for a long time.","Most of the time I think I did not deserve the success I had.","I can attract people's attention with my own charm.","When I'm alone, I often feel the strong presence of someone nearby who can't be seen.","I feel pretty aimless and don't know where I'm going in life.","Lately, I've been sweating a great deal and feel very tense.","Sometimes I feel like I somehow have to hurt myself or others.","I have been punished unfairly for crimes I have never committed.","I've become very jumpy in the last few weeks.","I keep having strange thoughts that I wish I could get rid of.","I have a great deal of trouble trying to control an impulse to drink to excess.","Most people think that I'm a worthless person.","Sometimes when arguing with someone I love, I feel very aroused.","For the past 12 months, I wanted to reduce my alcohol consumption, but I haven\u2019t been able to do this.","I always test people so I'll know who can and who can't be trusted.","Even when I'm awake, I don't seem to notice people who are near me.","It is very easy for me to make many friends.","I always make sure that my work is well planned and organized.","Sometimes I hear disturbing voices that others can't hear.","My moods seem to change a great deal from one day to the next.","I don't think it's wrong to abuse someone if they allow it.","I have been in trouble at work many times over the past few years.","I have important thoughts in my head that people of this era do not understand","I have been sad and upset for some time and I cannot get rid of this condition.","I always like to get help from others in my work.","I often get angry at people who work slowly.","I seriously hate people who ask me to do something against my preference.","I have been feeling so guilty for several years, that it's possible for me to hurt myself.","I never sit on the sidelines when I'm at a party.","People usually think of me as a reserved, serious-minded and regulatory person.","I sometimes get confused and feel upset when people are kind to me.","My use of so-called illegal drugs has led to family arguments.","I get panicky and nervous, when I meet someone of the opposite sex","There are members of my family who say I'm selfish and think only of myself.","I do not care if other people do not show interest in me.","Honestly, I often lie to get out of trouble.","People can easily change my ideas, even if I thought my mind was made up.","There are people that are trying to hurt me, but I have the power to overcome them.","My parents often said that I was not getting anywhere.","I often make people angry by bossing them.","I have a lot of respect for my superiors.","I have almost no close contact with other people.","People have said in the past that I became too interested and too excited about too many things.","I flew across the Atlantic 30 times last year.","I believe that no matter how careful you are in your work, it is still not enough.","I deserve the suffering I have suffered throughout my life.","My feelings toward important people in my life often swing from loving them to hating them.","My parents always argued with each other.","I will not regret if I fight with someone.","I am always shy, confused and frustrated in the crowd.","I think highly of rules because they are a good guide to follow.","Ever since I was a child, I have been losing touch with the real world.","I seldom feel strongly about anything.","In the past, I was restless and moving without knowing where I was going.","I hate those who show up late to an appointment.","Sneaky people often try to get the credit for things I have done or thought of.","When somebody (pushes) forces me to do what he needs me to do, I am enraged.","I have the talent for success in almost anything.","Lately, I have gone all to pieces.","I seem to encourage the people I love to hurt me.","There has never been a hair on my body.","When I am in a group, I like everyone to pay more attention to me.","The people who I admired in the first encounters later annoyed me.","I am a person who can stand in front of someone and answer him.","I prefer to associate with people who care about and support me.","Frequently, I have fallen into a depressive mood after a period of being too happy and using up so much energy.","Avoiding drug or alcohol abuse has been difficult for me in the past."];class ps extends ea{constructor(e){super(e),this.createBaseState=()=>{var e=-1,t=[];if(0===Object.entries(this.getChoiceseData()).length)t=this.createEmptyChoices(),e=-1;else{t=this.getChoiceseData();for(let a=0;a<t.length;a++)0!==t[a]&&(e=parseInt((a+1)/10))}this.state={page:e,choices:t,result:null,openCreateMeetingDialog:!1}},this.submitTest=()=>{this.props.submitTest(this.props.user.profile.id,this.state.choices,e=>{this.setState({result:e}),this.deleteChoiceseData()})},this.clearTest=()=>{this.setState(()=>({choices:this.createEmptyChoices(),page:-1})),this.deleteChoiceseData()},this.createEmptyChoices=()=>{var e=[];for(let t=0;t<cs.length;t++)e.push(0);return e},this.getChoiceseData=()=>F("lastHealthTest"),this.deleteChoiceseData=()=>{B("lastHealthTest")},this.syncChoiceseData=()=>{O("lastHealthTest",this.state.choices)},this.createQuestionBox=(e,t)=>{const a=this.props.classes;return l.a.createElement("div",{className:a.questionCard},l.a.createElement("p",{className:a.questionText},e+1,"- ",t),l.a.createElement("div",{className:a.questionSubmitBox},l.a.createElement(Nt,{className:a.yesButton,color:"success",onClick:()=>{let t=this.state.choices;t[e]=1,this.setState(()=>({choices:t})),this.syncChoiceseData()}},"Yes",1===this.state.choices[e]?l.a.createElement(Qt.a,{className:a.doneIcon},"done"):null),l.a.createElement(Nt,{className:a.noButton,color:"danger",onClick:()=>{let t=this.state.choices;t[e]=2,this.setState(()=>({choices:t})),this.syncChoiceseData()}},"No",2===this.state.choices[e]?l.a.createElement(Qt.a,{className:a.doneIcon},"done"):null)))},this.createBaseState(),this.topRef=l.a.createRef()}render(){const e=this.props,t=e.classes,a=e.width;return l.a.createElement("div",{ref:this.topRef},this.state.openCreateMeetingDialog?l.a.createElement(os,{open:this.state.openCreateMeetingDialog,psychiatrist:null,handleSave:()=>{this.setState(()=>({openCreateMeetingDialog:!1}))},handleCancel:()=>{this.setState(()=>({openCreateMeetingDialog:!1}))}}):null,l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(qe,null,l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:t.cardTitleWhite},"Health Assessment"),this.props.app.loading>0?l.a.createElement(ht.a,{className:t.loadingItem,type:"spin",height:30,width:30}):null),this.state.page>-1?l.a.createElement(Nt,{className:t.reloadButton,onClick:()=>{this.clearTest()},color:"warning"},"Clear"):null),this.state.page>=0?l.a.createElement(ft,{justify:"center"},null===this.state.result?l.a.createElement(gt,{xs:12,sm:12,md:12},cs.slice(10*this.state.page,10*this.state.page+10).map((e,t)=>this.createQuestionBox(10*this.state.page+t,e)),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:t.bottomOptions},17===this.state.page?l.a.createElement(Nt,{className:t.nextButton,color:"success",onClick:this.submitTest},"Submit"):null,this.state.page<17?l.a.createElement(Nt,{className:t.nextButton,color:"primary",onClick:()=>{let e=!1;for(let t=0;t<10*this.state.page+10;t++)0===this.state.choices[t]&&(e=!0);e?z.b.error("You must first enter the answers to all the previous questions."):(this.setState(()=>({page:Math.min(this.state.page+1,17)})),this.topRef.current.scrollIntoView())}},"Next"):null,this.state.page>0?l.a.createElement(Nt,{className:t.previousButton,color:"primary",onClick:()=>{this.setState(()=>({page:Math.max(this.state.page-1,0)}))}},"Previous"):null))):l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:t.createMeetingBox},l.a.createElement(It,{defaultValue:Object(ia.c)("sm",a)?"Can make an appointment with a psychiatrist.":"Create meeting",labelText:"Meeting",id:"meeting",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.setState(()=>({openCreateMeetingDialog:!0}))},color:"success",className:t.reloadButton},"Create")),l.a.createElement("div",{className:t.resultBox},l.a.createElement(ga,{data:this.state.result,tab:0})))):l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("p",{className:t.descriptionText},"The health assessment consists of 175 questions."),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:t.bottomOptions},l.a.createElement(Nt,{className:t.nextButton,color:"success",onClick:()=>{this.setState(()=>({page:0}))}},"Start"))))))))}}ps.defaultProps={app:{loading:0},classes:{},submitTest:()=>{}},ps.propTypes={app:zt.a.object.isRequired,user:zt.a.object.isRequired,classes:zt.a.object.isRequired,submitTest:zt.a.func.isRequired};var ds=Le(Object(ia.a)()(ps),i,(function(e){return{app:e.app,user:e.user}}),ls);const ms="/meeting",hs=ms+"/:id/file",us=(e,t,a,s)=>function(){ie(hs.replace(":id",e),t,"attachment",a,s)},gs=ms+"/:id/address",fs=(e,t,a)=>function(){te(gs.replace(":id",e),t,a)},bs=e=>function(){let t=e.id,a=(e.start_time+"/"+e.end_time).replaceAll("-","").replaceAll(":","");window.open("https://calendar.google.com/calendar/u/0/r/eventedit?text=Psykon meeting&dates="+a+"&ctz=UTC&details=Psykon meeting&pli=1&uid="+t+"&sf=true","_blank")},xs=e=>void 0===e?"-":e.replace("T"," ");class Es extends Xa{constructor(e){super(e),this.createBaseState=()=>({tab:0,openCreateDialog:!1}),this.createDataState=()=>(this.data.score=this.data.score-1,this.data),this.updateData=()=>{this.checkConditionWithError(2===this.state.status,"")||this.checkConditionWithError(2===this.state.status&&parseInt(this.state.score)<=0,"Choose your score to the meeting.")||(3===this.state.status?this.props.updateFormCallBack("",{comment:this.state.comment,score:parseInt(this.state.score)+1},this.state):0!==this.state.status&&1!==this.state.status||this.props.updateFormCallBack("",{accepted:this.state.person_accepted},this.state))},this.createInformationTab=()=>{const e=this.props.classes;return l.a.createElement(ft,null,this.createLoadingDialog(),l.a.createElement(Ga,{open:this.props.app.loading>0,title:"Loading",description:"Please wait a moment ..."}),void 0!==this.state.psychiatrist?l.a.createElement(os,{open:this.state.openCreateDialog,psychiatrist:this.state.psychiatrist,handleSave:()=>{this.setState(()=>({openCreateDialog:!1}))},handleCancel:()=>{this.setState(()=>({openCreateDialog:!1}))}}):null,void 0!==this.state.person?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:e.horizontal},l.a.createElement(It,{defaultValue:void 0!==this.state.psychiatrist?this.state.psychiatrist.name:"",labelText:"Psychiatrist",id:"psychiatrist_name",formControlProps:{disabled:!0,fullWidth:!0}}))):null,l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:["New","Accepted","Rejected","Completed"][this.state.status],labelText:"Status",id:"status",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.price,labelText:"Price",id:"price",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:xs(this.state.start_time),labelText:"Start",id:"start_time",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:xs(this.state.end_time),labelText:"End",id:"end_time",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:e.horizontal},l.a.createElement(It,{labelText:"Add To Google Calendar",id:"open_meeting",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.props.addToCalendar(this.state)},color:"success",className:e.selectButton},"Add"))),0===this.state.status||1===this.state.status?l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement("div",{className:this.props.classes.checkItem},l.a.createElement("label",{className:this.props.classes.checkTitle},"Person accepted or not?"),l.a.createElement(va.a,{className:this.props.classes.checkBox,checked:this.state.person_accepted,disabled:!1,onChange:e=>{this.onChangeHandler(e,"person_accepted","check")},checkedIcon:l.a.createElement(vt.a,{className:this.props.classes.checkedIcon}),icon:l.a.createElement(vt.a,{className:this.props.classes.uncheckedIcon})}))):null,0===this.state.status||1===this.state.status?l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement("div",{className:this.props.classes.checkItem},l.a.createElement("label",{className:this.props.classes.checkTitle},"Psychiatrist accepted or not?"),l.a.createElement(va.a,{className:this.props.classes.checkBox,checked:this.state.psychiatrist_accepted,disabled:!0,checkedIcon:l.a.createElement(vt.a,{className:this.props.classes.checkedIcon}),icon:l.a.createElement(vt.a,{className:this.props.classes.uncheckedIcon})}))):null,3===this.state.status?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.result,labelText:"Result",id:"result",formControlProps:{disabled:!0,fullWidth:!0},inputProps:{multiline:!0,rows:10}})):null,3===this.state.status&&""!==this.state.attachment?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:e.horizontal},l.a.createElement(Nt,{onClick:()=>{re(this.state.attachment,this.state.id+".zip")},color:"success",className:e.downloadButton},"Download"),l.a.createElement(It,{value:"Attachment uploaded by psychiatrist.",labelText:"Attachment",id:"type",formControlProps:{disabled:!0,fullWidth:!0}}))):null,3===this.state.status?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.comment,labelText:"Comment",id:"comment",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{multiline:!0,rows:2,onChange:e=>{this.onChangeHandler(e,"comment","text")}}})):null,3===this.state.status?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Mt,{value:this.state.score,labelText:"Score * (Mandatory)",id:"score",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"score")}},items:["*","**","***","****","*****"]})):null,void 0!==this.state.person?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:e.horizontal},l.a.createElement(It,{labelText:"Create new meeting",id:"create_meeting",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.setState(()=>({openCreateDialog:!0}))},color:"success",className:e.selectButton},"Create"))):null,1===this.state.status||3===this.state.status?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:e.horizontal},l.a.createElement(It,{labelText:"Open the meeting room",id:"open_meeting",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.props.getAddress(this.state.id,e=>{window.location.href=e.data.url},()=>{})},color:"success",className:e.selectButton},"Open"))):null)},this.createHealthTestTab=()=>l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{xs:12,sm:11,md:11},l.a.createElement(ga,{data:this.state.health_test.data,tab:0}))),this.initState(),this.data.person_have_notification&&(this.props.handleReloadPage(),this.props.getProfile(this.props.user.profile.role,this.props.user.profile.id))}render(){const e=this.props,t=e.classes,a=e.width;return l.a.createElement("div",{style:{width:Object(ia.c)("sm",a)?"900px":"100%"}},l.a.createElement(oa.a,{value:this.state.tab,onChange:(e,t)=>{var a={tab:t};this.setState(()=>a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.a.createElement(na.a,{classes:{root:t.tab},label:"Information"}),l.a.createElement(na.a,{classes:{root:t.tab},label:"Health assessment"})),0===this.state.tab?this.createInformationTab():this.createHealthTestTab())}}Es.propTypes={classes:zt.a.object.isRequired,enableEdit:zt.a.bool.isRequired,getAddress:zt.a.func.isRequired,getProfile:zt.a.func.isRequired,addToCalendar:zt.a.func.isRequired,updateFormCallBack:zt.a.func.isRequired};var ys=Le(Object(ia.a)()(Es),Object(Ye.a)(Object(Ye.a)({},s),n),(function(e){return{app:e.app,user:e.user}}),Qa);class vs extends ea{render(){const e=this.props.width;return l.a.createElement(Wa,{baseUrl:"/person/"+this.props.user.profile.id+"/meeting",title:"Meetings",tableSize:[12,12,12],tableHead:Object(ia.c)("sm",e)?[{name:"Psychiatrist",size:null},{name:"Start",size:null},{name:"End",size:null},{name:"Status",size:null},{name:"",size:"20px"}]:[{name:"Psychiatrist",size:null},{name:"Status",size:null},{name:"",size:"20px"}],getItemId:e=>e.id,getItemName:()=>"Meeting",getItemRow:t=>Object(ia.c)("sm",e)?[{type:"text",value:t.psychiatrist.name},{type:"text",value:xs(t.start_time)},{type:"text",value:xs(t.end_time)},{type:"text",value:["New","Accepted","Rejected","Completed"][t.status]},{type:"button",icon:t.person_have_notification?"notifications_active":"notifications_none",color:"primary",handle:()=>{}}]:[{type:"text",value:t.psychiatrist.name},{type:"text",value:["New","Accepted","Rejected","Completed"][t.status]},{type:"button",icon:t.person_have_notification?"notifications_active":"notifications_none",color:"primary",handle:()=>{}}],editDialog:ys,enableAdd:!1,enableEdit:!0,enableDelete:!1})}}vs.defaultProps={app:{loading:0},classes:{}},vs.propTypes={app:zt.a.object.isRequired,user:zt.a.object.isRequired,width:zt.a.string.isRequired,classes:zt.a.object.isRequired};var Cs=Le(Object(ia.a)()(vs),[],(function(e){return{app:e.app,user:e.user}}),ta),ws=a(821),_s=a(806),ks=a(366),Ts=a(188);class Is extends l.a.Component{constructor(...e){super(...e),this.reorder=(e,t,a)=>{const s=Array.from(e),i=s.splice(t,1),r=Object(ks.a)(i,1)[0];return s.splice(a,0,r),s},this.handleDrag=e=>{if(!e.destination)return;const t=this.reorder(this.props.items,e.source.index,e.destination.index);this.props.itemsChangeHandler(t)}}render(){return l.a.createElement(Ts.a,{onDragEnd:this.handleDrag},l.a.createElement(Ts.c,{droppableId:"droppable",direction:this.props.type},e=>l.a.createElement("div",{style:Object.assign({},void 0!==this.props.styles.root?this.props.styles.root:{},"horizontal"===this.props.type?{display:"flex",overflow:"auto",direction:"ltr"}:{}),ref:e.innerRef},this.props.items.map((e,t)=>l.a.createElement(Ts.b,{key:t,draggableId:t.toString(),index:t},(a,s)=>l.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps),this.props.getItemComponent(s.isDragging,e,t)))),e.placeholder)))}}Is.defaultProps={classes:{},styles:{},items:[],type:"vertical",getItemComponent:()=>null,itemsChangeHandler:()=>{}};var Ss=ze(Is,[],(function(e){return{app:e.app}}));var Ps=()=>({chipBox:{width:"calc(100% - 10px)",padding:"5px",minHeight:"37px",textAlign:"left"},chipItem:{margin:"5px",paddingLeft:"15px",paddingRight:"10px",borderRadius:"5px",direction:"rtl",background:"#e91e63",color:"white","&:focus":{background:"#e91e63"}},chipItemSelected:{margin:"5px",paddingLeft:"15px",paddingRight:"10px",borderRadius:"5px",direction:"rtl",background:"#4caf50",color:"white","&:focus":{background:"#4caf50"}}});class Ns extends l.a.Component{constructor(...e){super(...e),this.handleDeleteItem=e=>{var t,a=[],s=Object(je.a)(this.props.items);try{for(s.s();!(t=s.n()).done;){var i=t.value;i.id!==e&&a.push(i)}}catch(r){s.e(r)}finally{s.f()}this.props.itemsChangeHandler(a)}}render(){const e=this.props.classes;return l.a.createElement(_s.a,{className:e.chipBox,style:Object.assign({},void 0!==this.props.styles.root?this.props.styles.root:{})},l.a.createElement(Ss,{items:this.props.items,type:this.props.type,getItemComponent:(t,a)=>l.a.createElement(ws.a,{key:a.id,label:this.props.getItemName(a),onDelete:this.props.enableDelete?()=>{this.handleDeleteItem(a.id)}:null,className:t?e.chipItemSelected:e.chipItem,style:this.props.itemStyle}),itemsChangeHandler:this.props.itemsChangeHandler}))}}Ns.defaultProps={styles:{},items:[],type:"vertical",enableDelete:!0,getItemName:e=>e.name,itemsChangeHandler:()=>{},itemStyle:{}};var Ds=Le(Ns,[],(function(e){return{app:e.app}}),Ps);class Fs extends Xa{constructor(e){super(e),this.createBaseState=()=>({type:"",data:{},creator:{},create_time:0,shared_with:[],openCreateMeetingDialog:!1}),this.createDataState=()=>this.data,this.updateData=()=>{var e,t=[],a=Object(je.a)(this.state.shared_with);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(s.id)}}catch(r){a.e(r)}finally{a.f()}var i={shared_with:t};this.props.updateFormCallBack("",i,this.state)},this.initState()}render(){const e=this.props,t=e.classes,a=e.width;return l.a.createElement("div",{style:{width:Object(ia.c)("sm",a)?"900px":"100%"}},this.createSelectDialog(()=>"Email",e=>e.email,"",null),this.state.openCreateMeetingDialog?l.a.createElement(os,{open:this.state.openCreateMeetingDialog,psychiatrist:null,handleSave:()=>{this.setState(()=>({openCreateMeetingDialog:!1}))},handleCancel:()=>{this.setState(()=>({openCreateMeetingDialog:!1}))}}):null,l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:4,md:4},l.a.createElement(It,{defaultValue:0===this.state.type?"Test":"Meeting",labelText:"Type",id:"type",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:4,md:4},l.a.createElement(It,{defaultValue:this.state.creator.name,labelText:"Creator",id:"creator",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:4,md:4},l.a.createElement(It,{defaultValue:xs(this.state.create_time),labelText:"Time",id:"create_time",formControlProps:{disabled:!0,fullWidth:!0}})),this.props.enableEdit?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:Object(ia.c)("sm",a)?t.horizontal:""},l.a.createElement(Ds,{items:this.state.shared_with,itemsChangeHandler:e=>{this.setState(()=>({shared_with:e}),()=>{this.updateData()})}}),l.a.createElement(Nt,{onClick:()=>{this.handleOpenSelectDialog(()=>{},"shared_with","object_array","Share","person/"+this.props.user.profile.id+"/organization")},color:"success",className:Object(ia.c)("sm",a)?t.addButton:t.addButtonBig},"Share"))):null,0===this.state.type?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(ga,{data:this.state.data,tab:0}),this.props.enableEdit?l.a.createElement("div",{className:t.horizontal},l.a.createElement(It,{defaultValue:Object(ia.c)("sm",a)?"Can make an appointment with a psychiatrist.":"Create meeting",labelText:"Meeting",id:"meeting",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.setState(()=>({openCreateMeetingDialog:!0}))},color:"success",className:t.selectButton},"Create")):null):null,1===this.state.type?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.data.result,labelText:"Result",id:"result",formControlProps:{disabled:!0,fullWidth:!0},inputProps:{multiline:!0,rows:10}})):null,1===this.state.type&&""!==this.state.data.attachment?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:t.horizontal},l.a.createElement(Nt,{onClick:()=>{re(this.state.data.attachment,this.state.id+".zip")},color:"success",className:t.downloadButton},"Download"),l.a.createElement(It,{value:"Attachment uploaded by psychiatrist.",labelText:"Attachment",id:"type",formControlProps:{disabled:!0,fullWidth:!0}}))):null))}}Fs.propTypes={classes:zt.a.object.isRequired,enableEdit:zt.a.bool.isRequired,updateFormCallBack:zt.a.func.isRequired};var Os=Le(Object(ia.a)()(Fs),[],(function(e){return{app:e.app,user:e.user}}),Qa);var Bs=ze(Object(ia.a)()((function(e){const t=e.width;return l.a.createElement(Wa,{baseUrl:"/person/"+e.user.profile.id+"/document",title:"Health Records",tableSize:[12,12,12],tableHead:Object(ia.c)("sm",t)?[{name:"Type",size:null},{name:"Creator",size:null},{name:"Time",size:null}]:[{name:"Type",size:null},{name:"Time",size:null}],getItemId:e=>e.id,getItemName:e=>e.key,getItemRow:e=>Object(ia.c)("sm",t)?[{type:"text",value:0===e.type?"Test":"Meeting"},{type:"text",value:e.creator.name},{type:"text",value:xs(e.create_time)}]:[{type:"text",value:0===e.type?"Test":"Meeting"},{type:"text",value:xs(e.create_time)}],editDialog:Os,enableAdd:!1,enableEdit:!0,enableDelete:!1})})),[],(function(e){return{app:e.app,user:e.user}}));class Rs extends Xa{constructor(e){super(e),this.createBaseState=()=>({}),this.createDataState=()=>this.data,this.updateData=()=>{},this.initState()}render(){return l.a.createElement("div",{style:{width:"600px"}},l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.organization.email,labelText:"Organization",id:"organization",formControlProps:{disabled:!this.props.enableEdit,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.start_date,labelText:"Start",id:"start_date",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.end_date,labelText:"End",id:"end_date",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.budget,labelText:"Budget",id:"budget",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.balance,labelText:"Balance",id:"balance",formControlProps:{disabled:!0,fullWidth:!0}}))))}}Rs.propTypes={classes:zt.a.object.isRequired,enableEdit:zt.a.bool.isRequired,updateFormCallBack:zt.a.func.isRequired};var js=Le(Rs,[],(function(e){return{app:e.app}}),Qa);var Ws=ze(Object(ia.a)()((function(e){const t=e.width;return l.a.createElement(Wa,{baseUrl:"/person/"+e.user.profile.id+"/package",title:"Packages",tableSize:[12,12,12],tableHead:Object(ia.c)("sm",t)?[{name:"Organization",size:null},{name:"Start",size:null},{name:"End",size:null},{name:"Budget",size:null},{name:"Balance",size:null}]:[{name:"Organization",size:null},{name:"Start",size:"80px"}],getItemId:e=>e.id,getItemName:e=>e.key,getItemRow:e=>Object(ia.c)("sm",t)?[{type:"text",value:e.organization.name+" ("+e.organization.email+")"},{type:"text",value:e.start_date},{type:"text",value:e.end_date},{type:"text",value:e.budget},{type:"text",value:e.balance}]:[{type:"text",value:e.organization.name},{type:"text",value:e.start_date}],editDialog:js,enableAdd:!1,enableEdit:!1,enableDelete:!1,enableSinglePage:!0})})),[],(function(e){return{app:e.app,user:e.user}}));class Hs extends ea{constructor(e){super(e),this.updateProfile=()=>{if(!(this.checkIsEmptyTextWithNameError(this.state.first_name,"First Name")||this.checkIsEmptyTextWithNameError(this.state.last_name,"Last Name")||this.checkIsEmptyTextWithNameError(this.state.age,"Age")||this.checkConditionWithError(parseInt(this.state.age)<0,"The sex field is less than 1.")||this.checkIsEmptyTextWithNameError(this.state.sex,"Sex")||this.checkIsEmptyTextWithNameError(this.state.birth_date,"Birth Date")||this.checkIsEmptyTextWithNameError(this.state.address,"Address")||this.checkIsEmptyTextWithNameError(this.state.post_code,"Post Code")||this.checkIsEmptyTextWithNameError(this.state.home_tel,"Home Tel")||this.checkIsEmptyTextWithNameError(this.state.mobile,"Mobile")||this.checkIsEmptyTextWithNameError(this.state.primary_credential,"Primary Credential")||this.checkIsEmptyTextWithNameError(this.state.primary_specialty,"Primary Specialty")||this.checkIsEmptyTextWithNameError(this.state.last_three_years_experiences,"Last three years experiences")||this.checkIsEmptyTextWithNameError(this.state.name_of_posts_of_the_last_3_years,"Name of posts of the last 3 years")||this.checkIsEmptyTextWithNameError(this.state.price_1,"The price of a 30-minute session ")||this.checkIsEmptyTextWithNameError(this.state.price_2,"The price of a 60-minute session ")||this.checkIsEmptyTextWithNameError(this.state.price_3,"The price of a 90-minute session "))){var e={first_name:this.state.first_name,last_name:this.state.last_name,age:parseInt(this.state.age),sex:this.state.sex,photo:this.state.photo,attachment:this.state.attachment,birth_date:this.state.birth_date,address:this.state.address,post_code:this.state.post_code,work_tel:this.state.work_tel,home_tel:this.state.home_tel,mobile:this.state.mobile,primary_credential:this.state.primary_credential,primary_specialty:this.state.primary_specialty,applied_before:this.state.applied_before,last_three_years_experiences:this.state.last_three_years_experiences,name_of_posts_of_the_last_3_years:this.state.name_of_posts_of_the_last_3_years,more_information:this.state.more_information,plans:[{price:parseInt(this.state.price_1)},{price:parseInt(this.state.price_2)},{price:parseInt(this.state.price_3)}]};this.props.updateProfile(this.state.role,this.state.id,e)}},this.props.getProfile(this.props.user.profile.role,this.props.user.profile.id),re(e.user.profile.photo,"image",!0,e=>{this.onChangeHandler(e,"photo_uri","raw")});let t=null;null!==e.user.profile.plans&&void 0!==e.user.profile.plans&&e.user.profile.plans.length>=1&&(t=e.user.profile.plans[0].price);let a=null;null!==e.user.profile.plans&&void 0!==e.user.profile.plans&&e.user.profile.plans.length>=2&&(a=e.user.profile.plans[1].price);let s=null;null!==e.user.profile.plans&&void 0!==e.user.profile.plans&&e.user.profile.plans.length>=3&&(s=e.user.profile.plans[2].price),this.state={id:e.user.profile.id,role:e.user.profile.role,email:e.user.profile.email,first_name:e.user.profile.first_name,last_name:e.user.profile.last_name,age:e.user.profile.age,sex:e.user.profile.sex,photo:e.user.profile.photo,attachment:e.user.profile.attachment,birth_date:e.user.profile.birth_date,address:e.user.profile.address,post_code:e.user.profile.post_code,work_tel:e.user.profile.work_tel,home_tel:e.user.profile.home_tel,mobile:e.user.profile.mobile,primary_credential:e.user.profile.primary_credential,primary_specialty:e.user.profile.primary_specialty,applied_before:e.user.profile.applied_before,last_three_years_experiences:e.user.profile.last_three_years_experiences,name_of_posts_of_the_last_3_years:e.user.profile.name_of_posts_of_the_last_3_years,more_information:e.user.profile.more_information,price_1:t,price_2:a,price_3:s}}render(){const e=this.props.classes;return l.a.createElement("div",null,l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(qe,null,l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Edit account"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,this.props.user.profile.is_profile_updated?null:l.a.createElement("p",null,"To use the account, you must first complete the basic information of your profile."),l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{value:this.state.email,labelText:"Email",id:"email",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:8,md:9},l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.first_name,labelText:"First Name * (Mandatory)",id:"first_name",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"first_name","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.last_name,labelText:"Last Name * (Mandatory)",id:"last_name",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"last_name","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.age,labelText:"Age * (Mandatory)",id:"age",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{type:"number",onChange:e=>{this.onChangeHandler(e,"age","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Mt,{value:this.state.sex,labelText:"Sex * (Mandatory)",id:"sex",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"sex")}},items:["Male","Female","Other"]})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Jt,{date:this.state.birth_date,onChange:e=>{this.onChangeHandler(e,"birth_date","raw")},title:"Birth Date * (Mandatory)"})))),l.a.createElement(gt,{xs:12,sm:4,md:3},l.a.createElement("p",{className:this.props.classes.imageTitle},"Photo"),this.createImageInput("photo")),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.address,labelText:"Address * (Mandatory)",id:"address",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{multiline:!0,rows:3,onChange:e=>{this.onChangeHandler(e,"address","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.post_code,labelText:"Post Code * (Mandatory)",id:"post_code",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"post_code","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.work_tel,labelText:"Work Tel",id:"work_tel",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"work_tel","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.home_tel,labelText:"Home Tel * (Mandatory)",id:"home_tel",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"home_tel","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.mobile,labelText:"Mobile * (Mandatory)",id:"mobile",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"mobile","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(Mt,{value:this.state.primary_credential,labelText:"Primary Credential * (Mandatory)",id:"primary_credential",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"primary_credential")}},items:["LCSW (Licensed Clinical Social Worker)","LICSW (Licensed Independent Clinical Social Worker)","LMFT (Licensed Mental Health Counselor)","LMHC (Licensed Mental Health Counselor)","LPC (Licensed Professional Counselor)","PHD","PSYD (The Doctorof Psychology)"]})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(Mt,{value:this.state.primary_specialty,labelText:"Primary Specialty * (Mandatory)",id:"primary_specialty",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"primary_specialty")}},items:["Child Psychologist","Counselor","Psychiatrist","Psychologist"]})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:e.horizontal},""!==this.state.attachment?l.a.createElement(Nt,{onClick:()=>{re(this.state.attachment,this.state.id+".zip")},color:"success",className:e.downloadButton},l.a.createElement(Qt.a,{color:"white"},"download")):null,""!==this.state.attachment?l.a.createElement(Nt,{onClick:()=>{this.onChangeHandler("","attachment","raw")},color:"danger",className:e.downloadButton},l.a.createElement(Qt.a,{color:"white"},"delete")):null,l.a.createElement(It,{value:""===this.state.attachment?"Zip the desired attachment and then upload.":"",labelText:"",id:"type",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.inputElement.click()},color:"success",className:e.selectButton},l.a.createElement(Qt.a,{color:"white"},"attachment")),l.a.createElement("input",{id:"attachment",name:"attachment",type:"file",accept:".zip",className:e.fileInput,ref:e=>this.inputElement=e,onChange:e=>{this.setState(()=>({loadingDialogOpen:!0})),this.props.uploadFile(this.state.id,e.target.files[0],"attachment",e=>{this.onChangeHandler(e.url,"attachment","raw"),this.setState(()=>({loadingDialogOpen:!1}))},()=>{this.setState(()=>({loadingDialogOpen:!1}))}),e.target.value=null}}))),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:this.props.classes.checkItem},l.a.createElement("label",{className:this.props.classes.checkTitle},"Applied before *"),l.a.createElement(va.a,{className:this.props.classes.checkBox,checked:this.state.applied_before,disabled:!1,onChange:e=>{this.onChangeHandler(e,"applied_before","check")},checkedIcon:l.a.createElement(vt.a,{className:this.props.classes.checkedIcon}),icon:l.a.createElement(vt.a,{className:this.props.classes.uncheckedIcon})}))),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.last_three_years_experiences,labelText:"Last three years experiences * (Mandatory)",id:"last_three_years_experiences",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"last_three_years_experiences","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.name_of_posts_of_the_last_3_years,labelText:"Name of posts of the last 3 years * (Mandatory)",id:"name_of_posts_of_the_last_3_years",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"name_of_posts_of_the_last_3_years","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.more_information,labelText:"More Information",id:"more_information",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{multiline:!0,rows:5,onChange:e=>{this.onChangeHandler(e,"more_information","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.price_1,labelText:"The price of a 30-minute session * (Mandatory)",id:"price_1",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{type:"number",onChange:e=>{this.onChangeHandler(e,"price_1","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.price_2,labelText:"The price of a 60-minute session * (Mandatory)",id:"price_2",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{type:"number",onChange:e=>{this.onChangeHandler(e,"price_2","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.price_3,labelText:"The price of a 90-minute session * (Mandatory)",id:"price_3",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{type:"number",onChange:e=>{this.onChangeHandler(e,"price_3","text")}}})))),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.submitButton,color:"primary",onClick:this.updateProfile},"Save")))))))}}Hs.defaultProps={app:{loading:0},classes:{},updateProfile:()=>{}},Hs.propTypes={app:zt.a.object.isRequired,user:zt.a.object.isRequired,classes:zt.a.object.isRequired,uploadFile:zt.a.func.isRequired,updateProfile:zt.a.func.isRequired};var zs=Le(Hs,s,(function(e){return{app:e.app,user:e.user}}),ta);class Ls extends Xa{constructor(e){super(e),this.createBaseState=()=>({length:null,currentDate:0,loadingDialogOpen:!1,psychiatristSuggestions:"",selectedTimeBox:null}),this.reloadSuggestions=()=>{const e=this.props.width;let t=new Date;t.setDate(t.getDate()+this.state.currentDate);let a=new Date;a.setDate(a.getDate()+this.state.currentDate+(Object(ia.c)("sm",e)?7:3)),this.setState(()=>({psychiatristSuggestions:"loading"})),this.props.getMeetingSuggestion(this.props.person.id,this.props.user.profile.id,t.toISOString().substring(0,10),a.toISOString().substring(0,10),this.state.length,e=>{this.setState(()=>({psychiatristSuggestions:e,selectedTimeBox:null}))},()=>{this.setState(()=>({psychiatristSuggestions:null}))})},this.initState()}render(){const e=this.props,t=e.classes,a=e.width;return l.a.createElement(fa.a,{classes:{paper:t.dialog},open:this.props.open,onClose:()=>this.props.handleCancel()},l.a.createElement("div",null,this.createLoadingDialog(),l.a.createElement(ba.a,{className:t.dialogContent},l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:16,md:6},l.a.createElement(It,{defaultValue:this.props.person.name,labelText:"Person",id:"person",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.props.user.profile.name,labelText:"Psychiatrist",id:"psychiatrist",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Mt,{value:this.state.length,labelText:"Length",id:"length",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.setState(()=>({length:e.target.value}),()=>{this.reloadSuggestions()})}},items:["30 minutes","60 minutes","90 minutes"]})),null!==this.state.psychiatristSuggestions&&""!==this.state.psychiatristSuggestions&&"loading"!==this.state.psychiatristSuggestions?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Nt,{onClick:()=>{this.setState({currentDate:this.state.currentDate-(Object(ia.c)("sm",a)?7:3)},()=>{this.reloadSuggestions()})},color:"success",autoFocus:!0,className:t.previousButton},(Object(ia.c)("sm",a),"Previous")),l.a.createElement(Nt,{onClick:()=>{this.setState({currentDate:this.state.currentDate+(Object(ia.c)("sm",a)?7:3)},()=>{this.reloadSuggestions()})},color:"success",autoFocus:!0,className:t.nextButton},Object(ia.c)("sm",a)?"Next Week":"Next")):null,l.a.createElement(gt,{xs:12,sm:12,md:12},"loading"===this.state.psychiatristSuggestions?l.a.createElement(ht.a,{className:t.centerLoadingDialog,color:"#00acc1",type:"spin",height:30,width:30}):null,null!==this.state.psychiatristSuggestions&&""!==this.state.psychiatristSuggestions&&"loading"!==this.state.psychiatristSuggestions?l.a.createElement("div",{className:t.horizontal},this.state.psychiatristSuggestions.map((e,a)=>l.a.createElement("div",{className:t.suggestionList,key:a},e.date,e.time_boxes.map((e,a)=>l.a.createElement("div",{className:null!=this.state.selectedTimeBox&&this.state.selectedTimeBox.id===e.id?t.suggestionItemSelected:t.suggestionItem,key:a,onClick:()=>{this.setState(()=>({selectedTimeBox:e}))}},e.start_time.substring(11,16),l.a.createElement("br",null),30*(e.length+1),"-minutes"))))):null),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Nt,{onClick:()=>{null!==this.state.length?null!==this.state.selectedTimeBox?(this.setState({loadingDialogOpen:!0}),this.props.psychiatristCreateMeeting(this.props.user.profile.id,this.props.person.id,this.state.selectedTimeBox.start_time,this.state.selectedTimeBox.length,()=>{this.setState({length:null,currentDate:0,loadingDialogOpen:!1,psychiatristSuggestions:"",selectedTimeBox:null},()=>{this.props.handleSave()}),z.b.success("New meeting successfully created.")},()=>{this.setState({loadingDialogOpen:!1})})):z.b.error("Select the meeting time."):z.b.error("Select the length of the meeting.")},color:"success",autoFocus:!0,className:t.submitButton},"Create"))))))}}Ls.propTypes={classes:zt.a.object.isRequired,width:zt.a.string.isRequired,open:zt.a.bool.isRequired,person:zt.a.object.isRequired,handleSave:zt.a.func.isRequired,handleCancel:zt.a.func.isRequired,psychiatristCreateMeeting:zt.a.func.isRequired,getMeetingSuggestion:zt.a.func.isRequired};var As=Le(Object(ia.a)()(Ls),Object(Ye.a)(Object(Ye.a)({},i),r),(function(e){return{app:e.app,user:e.user}}),Qa);class Ms extends Xa{constructor(e){super(e),this.createBaseState=()=>({tab:0,completed:!1,openCreateDialog:!1}),this.createDataState=()=>this.data,this.updateData=()=>{this.checkConditionWithError(2===this.state.status,"")||(3===this.state.status||1===this.state.status&&this.state.completed&&this.state.psychiatrist_accepted?this.props.updateFormCallBack("",{result:this.state.result,attachment:this.state.attachment},this.state):0!==this.state.status&&1!==this.state.status||this.props.updateFormCallBack("",{accepted:this.state.psychiatrist_accepted},this.state))},this.createInformationTab=()=>{const e=this.props,t=e.classes,a=e.width;return l.a.createElement(ft,null,this.createLoadingDialog(),l.a.createElement(Ga,{open:void 0!==this.state.app&&this.state.app.loading>0,title:"Loading",description:"Please wait a moment ..."}),void 0!==this.state.person?l.a.createElement(As,{open:this.state.openCreateDialog,person:this.state.person,handleSave:()=>{this.setState(()=>({openCreateDialog:!1}))},handleCancel:()=>{this.setState(()=>({openCreateDialog:!1}))}}):null,void 0!==this.state.person?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:t.horizontal},l.a.createElement(It,{defaultValue:void 0!==this.state.person?this.state.person.name:"",labelText:"Person",id:"person_name",formControlProps:{disabled:!0,fullWidth:!0}}))):null,l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:["New","Accepted","Rejected","Completed"][this.state.status],labelText:"Status",id:"status",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.price,labelText:"Price",id:"price",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:xs(this.state.start_time),labelText:"Start",id:"start_time",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:xs(this.state.end_time),labelText:"End",id:"end_time",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:t.horizontal},l.a.createElement(It,{labelText:"Add To Google Calendar",id:"open_meeting",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.props.addToCalendar(this.state)},color:"success",className:t.selectButton},"Add"))),0===this.state.status||1===this.state.status?l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement("div",{className:this.props.classes.checkItem},l.a.createElement("label",{className:this.props.classes.checkTitle},"Person accepted or not?"),l.a.createElement(va.a,{className:this.props.classes.checkBox,checked:this.state.person_accepted,disabled:!0,checkedIcon:l.a.createElement(vt.a,{className:this.props.classes.checkedIcon}),icon:l.a.createElement(vt.a,{className:this.props.classes.uncheckedIcon})}))):null,0===this.state.status||1===this.state.status?l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement("div",{className:this.props.classes.checkItem},l.a.createElement("label",{className:this.props.classes.checkTitle},"Psychiatrist accepted or not?"),l.a.createElement(va.a,{className:this.props.classes.checkBox,checked:this.state.psychiatrist_accepted,disabled:!1,onChange:e=>{this.onChangeHandler(e,"psychiatrist_accepted","check")},checkedIcon:l.a.createElement(vt.a,{className:this.props.classes.checkedIcon}),icon:l.a.createElement(vt.a,{className:this.props.classes.uncheckedIcon})}))):null,1===this.state.status&&this.state.psychiatrist_accepted?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:this.props.classes.checkItem},l.a.createElement("label",{className:this.props.classes.checkTitle},"Meeting completed or not?"),l.a.createElement(va.a,{className:this.props.classes.checkBox,checked:this.state.completed,disabled:!1,onChange:e=>{this.onChangeHandler(e,"completed","check")},checkedIcon:l.a.createElement(vt.a,{className:this.props.classes.checkedIcon}),icon:l.a.createElement(vt.a,{className:this.props.classes.uncheckedIcon})}))):null,3===this.state.status||1===this.state.status&&this.state.completed&&this.state.psychiatrist_accepted?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.result,labelText:"Result",id:"result",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{multiline:!0,rows:10,onChange:e=>{this.onChangeHandler(e,"result","text")}}})):null,3===this.state.status||1===this.state.status&&this.state.completed&&this.state.psychiatrist_accepted?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:t.horizontal},""!==this.state.attachment?l.a.createElement(Nt,{onClick:()=>{re(this.state.attachment,this.state.id+".zip")},color:"success",className:t.downloadButton},l.a.createElement(Qt.a,null,"download")):null,""!==this.state.attachment?l.a.createElement(Nt,{onClick:()=>{this.onChangeHandler("","attachment","raw")},color:"danger",className:t.downloadButton},l.a.createElement(Qt.a,null,"delete")):null,l.a.createElement(It,{value:Object(ia.c)("sm",a)?"Zip the desired attachment and then upload.":"",labelText:"Attachment",id:"type",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.inputElement.click()},color:"success",className:t.selectButton},Object(ia.c)("sm",a)?"Select":l.a.createElement(Qt.a,null,"attachment")),l.a.createElement("input",{id:"attachment",name:"attachment",type:"file",accept:".zip",className:t.fileInput,ref:e=>this.inputElement=e,onChange:e=>{this.setState(()=>({loadingDialogOpen:!0})),this.props.uploadFile(this.state.id,e.target.files[0],e=>{this.onChangeHandler(e.url,"attachment","raw"),this.setState(()=>({loadingDialogOpen:!1}))},()=>{this.setState(()=>({loadingDialogOpen:!1}))}),e.target.value=null}}))):null,void 0!==this.state.person?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:t.horizontal},l.a.createElement(It,{labelText:"Create new meeting",id:"create_meeting",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.setState(()=>({openCreateDialog:!0}))},color:"success",className:t.selectButton},"Create"))):null,1===this.state.status||3===this.state.status?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:t.horizontal},l.a.createElement(It,{labelText:"Open the meeting room",id:"open_room",formControlProps:{disabled:!0,fullWidth:!0}}),l.a.createElement(Nt,{onClick:()=>{this.props.getAddress(this.state.id,e=>{window.location.href=e.data.url},()=>{})},color:"success",className:t.selectButton},"Open"))):null)},this.createHealthTestTab=()=>l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{xs:12,sm:11,md:11},l.a.createElement(ga,{data:this.state.health_test.data,tab:0}))),this.createHealthRecordsTab=()=>{const e=this.props.width;return l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{xs:12,sm:11,md:11},l.a.createElement(Wa,{baseUrl:"/person/"+this.state.person.id+"/document",title:"Health Records",tableSize:[12,12,12],tableHead:Object(ia.c)("sm",e)?[{name:"Type",size:null},{name:"Creator",size:null},{name:"Time",size:null}]:[{name:"Type",size:null},{name:"Time",size:null}],getItemId:e=>e.id,getItemName:e=>e.key,getItemRow:t=>Object(ia.c)("sm",e)?[{type:"text",value:0===t.type?"Test":"Meeting"},{type:"text",value:t.creator.name},{type:"text",value:xs(t.create_time)}]:[{type:"text",value:0===t.type?"Test":"Meeting"},{type:"text",value:xs(t.create_time)}],editType:"dialog",editDialog:Os,enableAdd:!1,enableEdit:!1,enableDelete:!1})))},this.initState(),this.data.psychiatrist_have_notification&&(this.props.handleReloadPage(),this.props.getProfile(this.props.user.profile.role,this.props.user.profile.id))}render(){const e=this.props,t=e.classes,a=e.width;return l.a.createElement("div",{style:{width:Object(ia.c)("sm",a)?"900px":"100%"}},l.a.createElement(oa.a,{value:this.state.tab,onChange:(e,t)=>{var a={tab:t};this.setState(()=>a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.a.createElement(na.a,{classes:{root:t.tab},label:"Meeting"}),l.a.createElement(na.a,{classes:{root:t.tab},label:"Health assessment"}),l.a.createElement(na.a,{classes:{root:t.tab},label:"Health records"})),0===this.state.tab?this.createInformationTab():1===this.state.tab?this.createHealthTestTab():this.createHealthRecordsTab())}}Ms.propTypes={width:zt.a.string.isRequired,classes:zt.a.object.isRequired,enableEdit:zt.a.bool.isRequired,getAddress:zt.a.func.isRequired,uploadFile:zt.a.func.isRequired,getProfile:zt.a.func.isRequired,addToCalendar:zt.a.func.isRequired,updateFormCallBack:zt.a.func.isRequired};var Vs=Le(Object(ia.a)()(Ms),Object(Ye.a)(Object(Ye.a)({},s),n),(function(e){return{app:e.app,user:e.user}}),Qa);class qs extends ea{render(){const e=this.props.width;return l.a.createElement(Wa,{baseUrl:"/psychiatrist/"+this.props.user.profile.id+"/meeting",title:"Meetings",tableSize:[12,12,12],tableHead:Object(ia.c)("sm",e)?[{name:"Person",size:null},{name:"Start",size:null},{name:"End",size:null},{name:"Status",size:null},{name:"",size:"20px"}]:[{name:"Person",size:null},{name:"Status",size:null},{name:"",size:"20px"}],getItemId:e=>e.id,getItemName:()=>"Meeting",getItemRow:t=>Object(ia.c)("sm",e)?[{type:"text",value:t.person.name},{type:"text",value:xs(t.start_time)},{type:"text",value:xs(t.end_time)},{type:"text",value:["New","Accepted","Rejected","Completed"][t.status]},{type:"button",icon:t.psychiatrist_have_notification?"notifications_active":"notifications_none",color:"primary",handle:()=>{}}]:[{type:"text",value:t.person.name},{type:"text",value:["New","Accepted","Rejected","Completed"][t.status]},{type:"button",icon:t.psychiatrist_have_notification?"notifications_active":"notifications_none",color:"primary",handle:()=>{}}],editDialog:Vs,enableAdd:!1,enableEdit:!0,enableDelete:!1})}}qs.defaultProps={app:{loading:0},classes:{}},qs.propTypes={app:zt.a.object.isRequired,user:zt.a.object.isRequired,width:zt.a.string.isRequired,classes:zt.a.object.isRequired};var Us=Le(Object(ia.a)()(qs),[],(function(e){return{app:e.app,user:e.user}}),ta),$s=a(820);class Ys extends l.a.Component{constructor(e){if(super(e),this.renderInput=e=>l.a.createElement("div",{className:this.props.classes.main},l.a.createElement(Nt,{onClick:()=>{e.onClick()},color:"warning",className:this.props.classes.selectButton},"Select"),l.a.createElement(It,Object.assign({id:e.id,value:e.value,labelText:this.props.title,formControlProps:{disabled:!0,fullWidth:!0}},e.inputProps))),this.onChange=(e,t=!0)=>{""===e&&this.props.autoCleanOnSelect?(t&&this.setState({date:null}),this.props.onChange(null)):(t&&this.setState({time:e}),this.props.onChange(Ut()(e).format("HH:mm")))},this.state={time:null},Ut.a.locale("en"),""!==this.props.time&&null!==this.props.time&&void 0!==this.props.time){var t=new Date;t.setHours(parseInt(this.props.time.substring(0,2))),t.setMinutes(parseInt(this.props.time.substring(3,5))),this.onChange(t,!1),this.state={time:t}}}render(){const e=Object(b.a)({direction:"ltr",typography:{useNextVariants:!0},palette:{primary:{main:"#00acc1"},secondary:{main:"#f44336"}},overrides:{MuiPickersToolbarText:{toolbarTxt:{color:"#E9E9E9"},toolbarBtnSelected:{color:"#FFFFFF"}}}});return l.a.createElement("div",null,l.a.createElement(y.a,{theme:e},l.a.createElement($t.a,{utils:Vt.a},l.a.createElement($s.a,{style:{width:"100%",marginTop:"10px",".MuiInput-input":{color:"#FF00FF"}},clearable:!0,margin:"normal",id:"time-picker-dialog",label:this.props.title,format:"HH:mm",value:this.state.time,onChange:e=>{null==e?this.onChange(""):this.onChange(e)},TextFieldComponent:this.renderInput}))))}}Ys.defaultProps={title:"Time",onChange:()=>{},autoCleanOnSelect:!0};var Gs=Le(Ys,[],(function(e){return{app:e.app}}),Gt);class Ks extends Xa{constructor(e){super(e),this.createBaseState=()=>({date:this.props.baseFilter.substring(6,16),start_time:null,end_time:null}),this.createDataState=()=>this.data,this.updateData=()=>{if(!this.checkIsEmptyTextWithNameError(this.state.start_time,"Start time")&&!this.checkIsEmptyTextWithNameError(this.state.end_time,"End time")){var e={start_time:this.state.date+"T"+this.state.start_time+":00",end_time:this.state.date+"T"+this.state.end_time+":00"};this.props.updateFormCallBack("",e,this.state)}},this.initState()}render(){return l.a.createElement("div",{style:{width:"600px"}},l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Gs,{time:this.state.start_time,onChange:e=>{this.onChangeHandler(e,"start_time","raw")},title:"Start time * (Mandatory)"})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Gs,{time:this.state.end_time,onChange:e=>{this.onChangeHandler(e,"end_time","raw")},title:"End time * (Mandatory)"}))))}}Ks.propTypes={classes:zt.a.object.isRequired,enableEdit:zt.a.bool.isRequired,updateFormCallBack:zt.a.func.isRequired};var Js=Le(Ks,[],(function(e){return{app:e.app}}),Qa);class Xs extends ea{constructor(e){super(e),this.state={counter:0,date:(new Date).toISOString().slice(0,10)}}render(){const e=this.props.classes;return l.a.createElement("div",null,l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(qe,null,l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Time schedule"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Jt,{date:this.state.date,onChange:e=>{this.setState({counter:this.state.counter+1,date:e})},title:"Date"})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Wa,{key:this.state.counter,baseUrl:"/psychiatrist/"+this.props.user.profile.id+"/time_box",baseFilter:"&date="+this.state.date,title:"Time schedule",tableSize:[12,12,12],tableHead:[{name:"Start",size:"100px"},{name:"End",size:"100px"}],getItemId:e=>e.id,getItemName:()=>"Time box",getItemRow:e=>[{type:"text",value:xs(e.start_time)},{type:"text",value:xs(e.end_time)}],addDialog:Js,enableAdd:!0,enableEdit:!1,enableDelete:!0}))))))))}}Xs.defaultProps={app:{loading:0},classes:{}},Xs.propTypes={app:zt.a.object.isRequired,user:zt.a.object.isRequired,classes:zt.a.object.isRequired};var Qs=Le(Xs,[],(function(e){return{app:e.app,user:e.user}}),ta);class Zs extends ea{constructor(e){super(e),this.updateProfile=()=>{if(!(this.checkIsEmptyTextWithNameError(this.state.name,"Name")||this.checkIsEmptyTextWithNameError(this.state.field_of_activity,"Field of Activity")||this.checkIsEmptyTextWithNameError(this.state.manager_name,"Manager Full Name")||this.checkIsEmptyTextWithNameError(this.state.operator_name,"Operator Full Name")||this.checkIsEmptyTextWithNameError(this.state.address,"Address")||this.checkIsEmptyTextWithNameError(this.state.post_code,"Post Code")||this.checkIsEmptyTextWithNameError(this.state.work_tel,"Work Tel")||this.checkIsEmptyTextWithNameError(this.state.number_of_staff,"Number of staff")||this.checkIsEmptyTextWithNameError(this.state.purpose_for_taking_the_test,"Purpose for taking the test"))){var e={name:this.state.name,field_of_activity:this.state.field_of_activity,manager_name:this.state.manager_name,operator_name:this.state.operator_name,address:this.state.address,post_code:this.state.post_code,work_tel:this.state.work_tel,work_fax:this.state.work_fax,purpose_for_taking_the_test:this.state.purpose_for_taking_the_test,number_of_staff:parseInt(this.state.number_of_staff),applied_before:this.state.applied_before,more_information:this.state.more_information};this.props.updateProfile(this.state.role,this.state.id,e)}},this.props.getProfile(this.props.user.profile.role,this.props.user.profile.id),this.state={id:e.user.profile.id,role:e.user.profile.role,name:e.user.profile.name,email:e.user.profile.email,field_of_activity:e.user.profile.field_of_activity,manager_name:e.user.profile.manager_name,operator_name:e.user.profile.operator_name,address:e.user.profile.address,post_code:e.user.profile.post_code,work_tel:e.user.profile.work_tel,work_fax:e.user.profile.work_fax,purpose_for_taking_the_test:e.user.profile.purpose_for_taking_the_test,number_of_staff:e.user.profile.number_of_staff,applied_before:e.user.profile.applied_before,more_information:e.user.profile.more_information}}render(){const e=this.props.classes;return l.a.createElement("div",null,l.a.createElement(ft,{justify:"center"},l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(qe,null,l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Edit account"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,this.props.user.profile.is_profile_updated?null:l.a.createElement("p",null,"To use the account, you must first complete the basic information of your profile."),l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{value:this.state.email,labelText:"Email",id:"email",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{value:-this.props.user.profile.balance,labelText:"Balance",id:"balance",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.name,labelText:"Name * (Mandatory)",id:"name",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"name","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.field_of_activity,labelText:"Field of Activity * (Mandatory)",id:"field_of_activity",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"field_of_activity","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.manager_name,labelText:"Manager Full Name * (Mandatory)",id:"manager_name",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"manager_name","text")}}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.operator_name,labelText:"Operator Full Name * (Mandatory)",id:"operator_name",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"operator_name","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.address,labelText:"Address * (Mandatory)",id:"address",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{multiline:!0,rows:3,onChange:e=>{this.onChangeHandler(e,"address","text")}}})),l.a.createElement(gt,{xs:12,sm:4,md:4},l.a.createElement(It,{defaultValue:this.state.post_code,labelText:"Post Code * (Mandatory)",id:"post_code",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"post_code","text")}}})),l.a.createElement(gt,{xs:12,sm:4,md:4},l.a.createElement(It,{defaultValue:this.state.work_tel,labelText:"Work Tel * (Mandatory)",id:"work_tel",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"work_tel","text")}}})),l.a.createElement(gt,{xs:12,sm:4,md:4},l.a.createElement(It,{defaultValue:this.state.work_fax,labelText:"Work Fax",id:"work_fax",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"work_fax","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.number_of_staff,labelText:"Number of Staff * (Mandatory)",id:"number_of_staff",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{type:"number",onChange:e=>{this.onChangeHandler(e,"number_of_staff","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:this.props.classes.checkItem},l.a.createElement("label",{className:this.props.classes.checkTitle},"Applied before *"),l.a.createElement(va.a,{className:this.props.classes.checkBox,checked:this.state.applied_before,disabled:!1,onChange:e=>{this.onChangeHandler(e,"applied_before","check")},checkedIcon:l.a.createElement(vt.a,{className:this.props.classes.checkedIcon}),icon:l.a.createElement(vt.a,{className:this.props.classes.uncheckedIcon})}))),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.purpose_for_taking_the_test,labelText:"Purpose for taking the test * (Mandatory)",id:"purpose_for_taking_the_test",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"purpose_for_taking_the_test","text")}}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.more_information,labelText:"More Information",id:"more_information",formControlProps:{disabled:!1,fullWidth:!0},inputProps:{multiline:!0,rows:5,onChange:e=>{this.onChangeHandler(e,"more_information","text")}}})))),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.submitButton,color:"primary",onClick:this.updateProfile},"Save")))))))}}Zs.defaultProps={app:{loading:0},classes:{},updateProfile:()=>{}},Zs.propTypes={app:zt.a.object.isRequired,user:zt.a.object.isRequired,classes:zt.a.object.isRequired,updateProfile:zt.a.func.isRequired};var ei=Le(Zs,s,(function(e){return{app:e.app,user:e.user}}),ta);class ti extends Xa{constructor(e){super(e),this.createBaseState=()=>({type:"",data:{},creator:{},create_time:0}),this.createDataState=()=>this.data,this.updateData=()=>{},this.initState()}render(){const e=this.props,t=e.classes,a=e.width;return l.a.createElement("div",{style:{width:Object(ia.c)("sm",a)?"900px":"100%"}},l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:4,md:4},l.a.createElement(It,{defaultValue:0===this.state.type?"Test":"Meeting",labelText:"Type",id:"type",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:4,md:4},l.a.createElement(It,{defaultValue:this.state.creator.name,labelText:"Creator",id:"creator",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:4,md:4},l.a.createElement(It,{defaultValue:xs(this.state.create_time),labelText:"Time",id:"create_time",formControlProps:{disabled:!0,fullWidth:!0}})),0===this.state.type?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(ga,{data:this.state.data,tab:0})):null,1===this.state.type?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.data.result,labelText:"Result",id:"result",formControlProps:{disabled:!0,fullWidth:!0},inputProps:{multiline:!0,rows:10}})):null,1===this.state.type&&""!==this.state.data.attachment?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement("div",{className:t.horizontal},l.a.createElement(Nt,{onClick:()=>{re(this.state.data.attachment,this.state.id+".zip")},color:"success",className:t.downloadButton},"Download"),l.a.createElement(It,{value:"Attachment uploaded by psychiatrist.",labelText:"Attachment",id:"type",formControlProps:{disabled:!0,fullWidth:!0}}))):null))}}ti.propTypes={classes:zt.a.object.isRequired,enableEdit:zt.a.bool.isRequired,updateFormCallBack:zt.a.func.isRequired};var ai=Le(Object(ia.a)()(ti),[],(function(e){return{app:e.app}}),Qa);class si extends Xa{constructor(e){super(e),this.createBaseState=()=>({id:"",email:"",name:""}),this.createDataState=()=>this.data,this.updateData=()=>{},this.initState()}render(){const e=this.props.width;return l.a.createElement("div",{style:{width:"800px"}},l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.email,labelText:"Eamil",id:"email",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.name,labelText:"Name",id:"name",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Wa,{baseUrl:this.props.baseUrl+"/"+this.state.id+"/document",title:"Health Records",tableSize:[12,12,12],tableHead:Object(ia.c)("sm",e)?[{name:"Type",size:null},{name:"Creator",size:null},{name:"Time",size:null}]:[{name:"Type",size:null},{name:"Time",size:null}],getItemId:e=>e.id,getItemName:e=>e.key,getItemRow:t=>Object(ia.c)("sm",e)?[{type:"text",value:0===t.type?"Test":"Meeting"},{type:"text",value:t.creator.name},{type:"text",value:xs(t.create_time)}]:[{type:"text",value:0===t.type?"Test":"Meeting"},{type:"text",value:xs(t.create_time)}],editDialog:ai,enableAdd:!1,enableEdit:!1,enableDelete:!1}))))}}si.propTypes={width:zt.a.string.isRequired,classes:zt.a.object.isRequired,enableEdit:zt.a.bool.isRequired,updateFormCallBack:zt.a.func.isRequired};var ii=Le(Object(ia.a)()(si),[],(function(e){return{app:e.app}}),Qa);var ri=Le(class extends Ua{render(){return l.a.createElement("div",null,this.createSelectDialog(),l.a.createElement(ft,null,this.createTextFilter("person","Person Email",9),this.createFilterButton()))}},[],(function(){return{}}),Aa);var ni=ze(Object(ia.a)()((function(e){const t=e.width;return l.a.createElement(Wa,{baseUrl:"/organization/"+e.user.profile.id+"/person",title:"Persons",tableSize:[12,12,12],tableHead:Object(ia.c)("sm",t)?[{name:"Name",size:null},{name:"Email",size:null}]:[{name:"Email",size:null}],getItemId:e=>e.id,getItemName:e=>e.key,getItemRow:e=>Object(ia.c)("sm",t)?[{type:"text",value:e.name},{type:"text",value:e.email}]:[{type:"text",value:e.email}],editDialog:ii,filterComponent:ri,enableAdd:!1,enableEdit:!1,enableDelete:!1})})),[],(function(e){return{app:e.app,user:e.user}}));class oi extends Xa{constructor(e){super(e),this.createBaseState=()=>({email:"",start_date:"",end_date:"",budget:0}),this.createDataState=()=>this.data,this.updateData=()=>{if(!(this.checkIsEmptyTextWithNameError(this.state.email,"Email")||this.checkPatternWithNameError(/^\w+([-+.']\w+)*@\w+([-.]\w+)*.\w+([-.]\w+)*$/,this.state.email,"Email format is incorrect.")||this.checkIsEmptyTextWithNameError(this.state.start_date,"Start")||this.checkIsEmptyTextWithNameError(this.state.end_date,"End")||this.checkIsEmptyTextWithNameError(this.state.budget,"Budget"))){var e={person:this.state.email,start_date:this.state.start_date,end_date:this.state.end_date,budget:parseInt(this.state.budget)};this.props.updateFormCallBack("",e,this.state)}},this.initState()}render(){return l.a.createElement("div",{style:{width:"600px"}},l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.isCreateMode()?this.state.email:this.state.person.email,labelText:"Eamil",id:"email",formControlProps:{disabled:!this.props.enableEdit,fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"email","text")}}})),this.isCreateMode()?l.a.createElement(gt,{xs:12,sm:6,md:6},this.createCalendarInput("start_date","Start * (Mandatory)")):l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.start_date,labelText:"Start",id:"start_date",formControlProps:{disabled:!0,fullWidth:!0}})),this.isCreateMode()?l.a.createElement(gt,{xs:12,sm:6,md:6},this.createCalendarInput("end_date","End * (Mandatory)")):l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.end_date,labelText:"End",id:"end_date",formControlProps:{disabled:!0,fullWidth:!0}})),this.isCreateMode()?l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{defaultValue:this.state.budget,labelText:"Budget",id:"budget",formControlProps:{disabled:!this.props.enableEdit,fullWidth:!0},inputProps:{type:"number",onChange:e=>{this.onChangeHandler(e,"budget","text")}}})):l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.budget,labelText:"Budget",id:"budget",formControlProps:{disabled:!0,fullWidth:!0}})),this.isCreateMode()?null:l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{defaultValue:this.state.balance,labelText:"Balance",id:"balance",formControlProps:{disabled:!0,fullWidth:!0}}))))}}oi.propTypes={classes:zt.a.object.isRequired,enableEdit:zt.a.bool.isRequired,updateFormCallBack:zt.a.func.isRequired};var li=Le(oi,[],(function(e){return{app:e.app}}),Qa);var ci=Le(class extends Ua{render(){return l.a.createElement("div",null,this.createSelectDialog(),l.a.createElement(ft,null,this.createTextFilter("person","Person Email",9),this.createFilterButton()))}},[],(function(){return{}}),Aa);var pi=ze(Object(ia.a)()((function(e){const t=e.width;return l.a.createElement(Wa,{baseUrl:"/organization/"+e.user.profile.id+"/package",title:"Packages",tableSize:[12,12,12],tableHead:Object(ia.c)("sm",t)?[{name:"Person",size:null},{name:"Start",size:null},{name:"End",size:null},{name:"Budget",size:null},{name:"Balance",size:null}]:[{name:"Person",size:null},{name:"Start",size:"80px"}],getItemId:e=>e.id,getItemName:()=>"Package",getItemRow:e=>Object(ia.c)("sm",t)?[{type:"text",value:e.person.name+" ("+e.person.email+")"},{type:"text",value:e.start_date},{type:"text",value:e.end_date},{type:"text",value:e.budget},{type:"text",value:e.balance}]:[{type:"text",value:e.person.name},{type:"text",value:e.start_date}],addDialog:li,editDialog:li,filterComponent:ci,enableAdd:!0,enableEdit:!1,enableDelete:!0})})),[],(function(e){return{app:e.app,user:e.user}}));class di extends Xa{constructor(e){super(e),this.createBaseState=()=>({amount:0,gateway:"",status:0,tracking_id:"",payment_id:"",payment_time:"",user:{id:"",email:""}}),this.createDataState=()=>this.data,this.updateData=()=>{},this.initState()}render(){return l.a.createElement("div",{style:{width:"900px"}},this.createLoadingDialog(),l.a.createElement(ft,null," ",l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{value:this.data.amount,labelText:"Amount",id:"amount",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{value:["In progress","Success","Unsuccess"][this.data.status],labelText:"Status",id:"status",formControlProps:{disabled:!0,fullWidth:!0}})),l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{value:this.data.tracking_id,labelText:"Tracking id",id:"tracking_id",formControlProps:{disabled:!0,fullWidth:!0}})),void 0!==this.data.payment_id?l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{value:this.data.payment_id,labelText:"Payment id",id:"payment_id",formControlProps:{disabled:!0,fullWidth:!0}})):null,void 0!==this.data.payment_time?l.a.createElement(gt,{xs:12,sm:6,md:6},l.a.createElement(It,{value:this.data.payment_time,labelText:"Payment time",id:"payment_time",formControlProps:{disabled:!0,fullWidth:!0}})):null))}}di.propTypes={classes:zt.a.object.isRequired,enableEdit:zt.a.bool.isRequired,uploadFile:zt.a.func.isRequired,uploadImage:zt.a.func.isRequired,updateFormCallBack:zt.a.func.isRequired};var mi=Le(di,s,(function(e){return{app:e.app,admin:e.admin}}),Qa);var hi=ze((function(){return l.a.createElement(Wa,{baseUrl:"/payment",title:"Payments",tableSize:[10,11,12],tableHead:[{name:"Amount",size:null},{name:"Status",size:null}],getItemId:e=>e.id,getItemName:()=>"",getItemRow:e=>[{type:"text",value:e.amount},{type:"text",value:["In progress","Success","Unsuccess"][e.status]}],editDialog:mi,enableAdd:!1,enableEdit:!1,enableDelete:!1,closeAfterCreate:!1,enableSinglePage:!0})}),[],(function(e){return{app:e.app,admin:e.admin}}));const ui=e=>{var t=null;0===e.profile.role?t=sa:1===e.profile.role?t=zs:2===e.profile.role&&(t=ei);var a=[[{visible:!0,path:"/dashboard",name:"Home",icon:"home",component:e.profile.is_profile_updated?dt:t}]];return a.push([{visible:!0,path:"/updateProfile",name:"Profile",icon:"person",component:t}]),a.push([{visible:!0,path:"/changePassword",name:"Change password",icon:"person",component:Rt}]),a.push([{visible:!0,path:"/increaseBalance",name:"Increase balance",icon:"payment",component:Wt}]),0===e.profile.role?e.profile.is_profile_updated&&(a.push([{visible:!0,path:"/health_test",name:"Health Assessment",icon:"rule",component:ds}]),a.push([{visible:!0,path:"/health_records",name:"Health Records",icon:"loyalty",component:Bs}]),a.push([{visible:!0,path:"/meetings",name:"Meetings "+(e.profile.notification_count>0?" ("+e.profile.notification_count+")":""),icon:"group_work",component:Cs}]),a.push([{visible:!0,path:"/packages",name:"Packages",icon:"shopping_cart",component:Ws}]),a.push([{visible:!0,path:"/payments",name:"Payments",icon:"payment",component:hi}])):e.profile.is_confirmed&&(1===e.profile.role&&(a.push([{visible:!0,path:"/meetings",name:"Meetings "+(e.profile.notification_count>0?" ("+e.profile.notification_count+")":""),icon:"group_work",component:Us}]),a.push([{visible:!0,path:"/time_boxes",name:"Time schedule",icon:"event_note",component:Qs}])),2===e.profile.role&&(a.push([{visible:!0,path:"/packages",name:"Packages",icon:"shopping_cart",component:pi}]),a.push([{visible:!0,path:"/persons",name:"Persons",icon:"person",component:ni}]))),a.push([{visible:!1,redirect:!0,path:"/",to:"/dashboard"}]),a},gi=e=>{var t,a=[],s=ui(e),i=Object(je.a)(s);try{for(i.s();!(t=i.n()).done;){var r,n=t.value,o=Object(je.a)(n);try{for(o.s();!(r=o.n()).done;){var l=r.value;Object.keys(l).length>2&&a.push(l)}}catch(c){o.e(c)}finally{o.f()}}}catch(c){i.e(c)}finally{i.f()}return a};var fi=a(809),bi=a(796),xi=a(763),Ei=a(815),yi=a(362),vi=a.n(yi),Ci=a(791),wi=a(758),_i=a(808),ki=a(807),Ti=a(360),Ii=a.n(Ti);var Si=e=>({buttonLink:{[e.breakpoints.down("md")]:{display:"flex",marginLeft:"30px",width:"auto"}},links:{width:"20px",height:"20px",zIndex:"4",[e.breakpoints.down("md")]:{display:"block",width:"30px",height:"30px",color:"#a9afbb",marginRight:"15px"}},linkText:Object(Ye.a)(Object(Ye.a)({zIndex:"4"},Xe),{},{fontSize:"14px"}),popperClose:{pointerEvents:"none"},pooperResponsive:{[e.breakpoints.down("md")]:{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}},pooperNav:{[e.breakpoints.down("sm")]:{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"none !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:"#FFF !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}},dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba(0, 0, 0, 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"right",listStyle:"none",backgroundColor:"#fff",WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:Object(Ye.a)(Object(Ye.a)({},Xe),{},{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:"#333",whiteSpace:"nowrap",height:"unset","&:hover":Object(Ye.a)({backgroundColor:"#00acc1",color:"#FFFFFF"},Qe)})});var Pi=e=>Object(Ye.a)(Object(Ye.a)({},Si(e)),{},{search:{"& > div":{marginTop:"0"},[e.breakpoints.down("sm")]:{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFFFFF"}}},linkText:Object(Ye.a)(Object(Ye.a)({zIndex:"4"},Xe),{},{fontSize:"14px",margin:"0px"}),buttonLink:{[e.breakpoints.down("sm")]:{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}},searchButton:{[e.breakpoints.down("sm")]:{top:"-50px !important",marginRight:"22px",float:"left"}},margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:{zIndex:"4",[e.breakpoints.up("md")]:{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:"#f44336",color:"#FFFFFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"},[e.breakpoints.down("sm")]:Object(Ye.a)(Object(Ye.a)({},Xe),{},{fontSize:"14px",marginRight:"8px"})},manager:{[e.breakpoints.down("sm")]:{width:"100%"},display:"inline-block"},searchWrapper:{[e.breakpoints.down("sm")]:{width:"-webkit-fill-available",margin:"10px 15px 0"},display:"inline-block"},textRight:{textAlign:"left"},horizontal:{display:"flex"}});class Ni extends l.a.Component{constructor(...e){super(...e),this.state={open:!1},this.handleToggle=()=>{this.setState(e=>({open:!e.open}))},this.handleClose=e=>{this.anchorEl.contains(e.target)||this.setState({open:!1})},this.handleOpenUpdateProfile=()=>{A("updateProfile"),this.setState({open:!1})},this.handleOpenChangePassword=()=>{A("changePassword"),this.setState({open:!1})},this.handleOpenIncreaseBalance=()=>{A("increaseBalance"),this.setState({open:!1})}}render(){const e=this.props.classes,t=this.state.open;return l.a.createElement("div",null,l.a.createElement("div",{className:e.manager},l.a.createElement(Nt,{color:"transparent",href:"#",className:e.title,onClick:this.handleOpenUpdateProfile},this.props.user.accessToken.length>0?l.a.createElement("div",null,this.props.user.profile.name):null),l.a.createElement(Nt,{buttonRef:e=>{this.anchorEl=e},color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-owns":t?"menu-list-grow":null,"aria-haspopup":"true",onClick:this.handleToggle,className:e.buttonLink},l.a.createElement(Ii.a,{className:e.icons}),l.a.createElement(Ei.a,{mdUp:!0,implementation:"css"},l.a.createElement("p",{onClick:this.handleClick,className:e.linkText},"Notification"))),l.a.createElement(ki.a,{open:t,anchorEl:this.anchorEl,transition:!0,disablePortal:!0,className:Me()({[e.popperClose]:!t})+" "+e.pooperNav},({TransitionProps:t,placement:a})=>l.a.createElement(wi.a,Object.assign({},t,{id:"menu-list-grow",style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),l.a.createElement(Xt.a,null,l.a.createElement(_i.a,{onClickAway:this.handleClose},l.a.createElement(Ci.a,{role:"menu"},l.a.createElement(At.a,{onClick:this.handleOpenChangePassword,className:e.dropdownItem+" "+e.textRight},"Change password"),0===this.props.user.profile.role?l.a.createElement(At.a,{onClick:this.handleOpenIncreaseBalance,className:e.dropdownItem+" "+e.textRight},"Increase balance"):null,l.a.createElement(At.a,{onClick:this.handleOpenUpdateProfile,className:e.dropdownItem+" "+e.textRight},"Edit account"),l.a.createElement(At.a,{onClick:this.props.logout,className:e.dropdownItem+" "+e.textRight},"Logout"))))))))}}var Di=Le(Ni,[],(function(e){return{user:e.user}}),Pi);var Fi=()=>({appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"relative",width:"100%",paddingTop:"10px",zIndex:"1029",color:"#555555",border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:Object(Ye.a)(Object(Ye.a)({},Ke),{},{minHeight:"50px"}),flex:{flex:1},title:Object(Ye.a)(Object(Ye.a)({},Xe),{},{lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}}),appResponsive:{top:"8px"},primary:Object(Ye.a)({backgroundColor:"#00acc1",color:"#FFFFFF"},rt),info:Object(Ye.a)({backgroundColor:"#00acc1",color:"#FFFFFF"},rt),success:Object(Ye.a)({backgroundColor:"#4caf50",color:"#FFFFFF"},rt),warning:Object(Ye.a)({backgroundColor:"#ff9800",color:"#FFFFFF"},rt),danger:Object(Ye.a)({backgroundColor:"#f44336",color:"#FFFFFF"},rt)});class Oi extends l.a.Component{constructor(...e){super(...e),this.state={confirmDialogOpen:!1},this.handleLogout=()=>{this.props.logout(),this.setState({open:!1}),this.handleCloseConfirmDialog()},this.handleOpenConfirmDialog=()=>{this.setState(()=>({confirmDialogOpen:!0}))},this.handleCloseConfirmDialog=()=>{this.setState(()=>({confirmDialogOpen:!1}))}}render(){const e=this.props,t=e.classes,a=e.color,s=Me()({[" "+t[a]]:a});return l.a.createElement("div",null,l.a.createElement(Ba,{open:this.state.confirmDialogOpen,title:"Logout",description:"Are you sure you want to log out of your account?",handleConfirm:()=>this.handleLogout(),handleCancel:()=>this.handleCloseConfirmDialog()}),l.a.createElement(fi.a,{id:"dashboard-header",className:t.appBar+s},l.a.createElement(bi.a,{className:t.container},l.a.createElement("div",{className:t.flex}),l.a.createElement(Ei.a,{smDown:!0,implementation:"css"},l.a.createElement(Di,{logout:this.handleOpenConfirmDialog})),l.a.createElement(Ei.a,{mdUp:!0,implementation:"css"},l.a.createElement(xi.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleOpenConfirmDialog},l.a.createElement(Qt.a,null,"logout")),l.a.createElement(xi.a,{color:"inherit","aria-label":"open drawer",onClick:this.props.handleDrawerToggle},l.a.createElement(vi.a,null))))))}}var Bi=Le(Oi,s,(function(e){return{user:e.user}}),Fi);var Ri={block:Object(Ye.a)(Object(Ye.a)({color:"inherit",padding:"15px",borderRadius:"3px",textDecoration:"none",position:"relative",display:"block"},Xe),{},{fontWeight:"500",fontSize:"12px"}),left:{float:"right !important",display:"block"},right:{padding:"15px 35px",margin:"0",fontSize:"14px",float:"left !important"},footer:Object(Ye.a)({bottom:"0",borderTop:"1px solid #e7e7e7",padding:"15px 0"},Xe),container:Ke,a:{color:"#00acc1",textDecoration:"none",backgroundColor:"transparent"},list:{marginBottom:"0",padding:"0",marginTop:"0"},inlineBlock:{display:"inline-block",padding:"0px",width:"auto"}};var ji=He()(Ri)((function(e){const t=Object.assign({},e).classes;return l.a.createElement("footer",{className:t.footer},l.a.createElement("div",{className:t.container},l.a.createElement("p",{className:t.right},l.a.createElement("span",null))))})),Wi=a(64),Hi=a(817),zi=a(760),Li=a(810),Ai=a(811),Mi=a(363),Vi=a.n(Mi);var qi=e=>({drawerPaper:Object(Ye.a)(Object(Ye.a)({border:"none",position:"fixed",top:"0",bottom:"0",left:"-1px",zIndex:"1"},Je),{},{width:260,[e.breakpoints.up("md")]:{width:260,position:"fixed",height:"100%"},[e.breakpoints.down("sm")]:Object(Ye.a)(Object(Ye.a)({width:260},Je),{},{position:"fixed",display:"block",top:"0",height:"100vh",left:"0",right:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"right",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(260,"px, 0, 0)")},Ge)}),logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba(180, 180, 180, 0.3)"}},logoLink:Object(Ye.a)(Object(Ye.a)({},Xe),{},{padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#FFFFFF",direction:"ltr"},float:"left !impotant",direction:"ltr"}),logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},logoText:{display:"inline-block",maxHeight:"30px",marginTop:"7px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block"}},list:{marginTop:"0px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#FFFFFF"}},itemLink:Object(Ye.a)({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},Xe),itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginLeft:"10px",marginRight:"0px",textAlign:"center",verticalAlign:"middle",color:"rgba(255, 255, 255, 0.8)",direction:"rtl"},itemText:Object(Ye.a)(Object(Ye.a)({},Xe),{},{margin:"0",paddingLeft:"10px",lineHeight:"30px",fontSize:"14px",color:"#FFFFFF",textAlign:"left"}),whiteFont:{color:"#FFFFFF"},purple:Object(Ye.a)(Object(Ye.a)({backgroundColor:"#00acc1"},Qe),{},{"&:hover":Object(Ye.a)({backgroundColor:"#00acc1"},Qe)}),blue:{backgroundColor:"#00acc1",boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)","&:hover,&:focus,&:visited,&":{backgroundColor:"#00acc1",boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)"}},green:{backgroundColor:"#4caf50",boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)","&:hover":{backgroundColor:"#4caf50",boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)"}},orange:{backgroundColor:"#ff9800",boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)","&:hover":{backgroundColor:"#ff9800",boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)"}},red:{backgroundColor:"#f44336",boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)","&:hover":{backgroundColor:"#f44336",boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:{[e.breakpoints.up("md")]:{position:"absolute",width:"100%",bottom:"13px"}},collapseItemText:Object(Ye.a)(Object(Ye.a)({},Xe),{},{margin:"0",paddingRight:"0px",lineHeight:"30px",fontSize:"14px",color:"#FFFFFF",textAlign:"left"}),collapseItem:{paddingRight:"20px"}});class Ui extends l.a.Component{constructor(e){super(e),this.activeRoute=e=>this.props.location.pathname.indexOf(e)>-1,this.handleClick=e=>{this.state.open===e?this.setState(()=>({open:-1})):this.setState(()=>({open:e}))},this.state={open:0}}render(){const e=this.props,t=e.classes,a=e.color,s=e.logo,i=e.image,r=e.logoText,n=e.routes;var o=l.a.createElement("div",{className:t.logo},l.a.createElement("a",{href:"/",className:t.logoLink},l.a.createElement("div",{className:t.logoImage},l.a.createElement("img",{src:s,alt:"logo",className:t.img})),l.a.createElement("div",{className:t.logoText},r)));function c(e,s,i){const r=Me()({[" "+t[a]]:e(s.path)}),n=Me()({[" "+t.whiteFont]:e(s.path)});return l.a.createElement(Wi.a,{key:i,to:s.path,className:t.item,activeClassName:"active"},l.a.createElement(xa.a,{button:!0,className:t.itemLink+r},l.a.createElement(xa.a,{className:t.itemIcon+n},"string"===typeof s.icon?l.a.createElement(Qt.a,null,s.icon):l.a.createElement(s.icon,null)),l.a.createElement(Li.a,{primary:s.name,className:t.itemText+n,disableTypography:!0})))}var p=l.a.createElement(zi.a,{className:t.list},n.map((e,a)=>{if(e.length>1)return l.a.createElement(zi.a,{component:"nav",key:2*a},l.a.createElement(xa.a,{button:!0,onClick:()=>this.handleClick(a),className:t.itemLink},l.a.createElement(xa.a,{className:t.itemIcon+" "+t.whiteFont},this.state.open===a?l.a.createElement(Vi.a,{className:t.whiteFont}):"string"===typeof e[0].icon?l.a.createElement(Qt.a,null,e[0].icon):l.a.createElement(s.icon,null)),l.a.createElement(Li.a,{primary:e[0].name,className:t.collapseItemText+" "+t.whiteFont,disableTypography:!0})),l.a.createElement(Ai.a,{className:t.collapseItem,in:this.state.open===a,timeout:"auto",unmountOnExit:!0,key:2*a+1},l.a.createElement(zi.a,{className:t.list},e.map((e,t)=>e.redirect||!e.visible?null:c(this.activeRoute,e,100*a+t)))));var s=e[0];return s.redirect||!s.visible?null:c(this.activeRoute,s,2*a)}));return l.a.createElement("div",null,l.a.createElement(Ei.a,{mdUp:!0,implementation:"css"},l.a.createElement(Hi.a,{variant:"temporary",anchor:"left",open:this.props.open,classes:{paper:t.drawerPaper},onClose:this.props.handleDrawerToggle,ModalProps:{keepMounted:!0}},o,l.a.createElement("div",{className:t.sidebarWrapper},p),void 0!==i?l.a.createElement("div",{className:t.background,style:{backgroundImage:"url("+i+")"}}):null)),l.a.createElement(Ei.a,{smDown:!0,implementation:"css"},l.a.createElement(Hi.a,{anchor:"left",variant:"permanent",open:!0,classes:{paper:t.drawerPaper}},o,l.a.createElement("div",{className:t.sidebarWrapper},p),void 0!==i?l.a.createElement("div",{className:t.background,style:{backgroundImage:"url("+i+")"}}):null)))}}var $i=He()(qi)(Ui);var Yi=e=>({wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object(Ye.a)(Object(Ye.a)({[e.breakpoints.up("md")]:{width:"calc(100% - ".concat(260,"px)")},overflow:"auto",position:"relative",float:"right"},Ge),{},{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"10px",padding:"0px 10px 10px 10px",minHeight:"calc(100vh - 175px)"},container:Ke,map:{marginTop:"20px"}}),Gi=a(364),Ki=a.n(Gi),Ji=a(365),Xi=a.n(Ji);class Qi extends l.a.Component{constructor(e){super(e),this.handleDrawerToggle=()=>{this.setState({mobileOpen:!this.state.mobileOpen})},this.state={mobileOpen:!1},this.resizeFunction=this.resizeFunction.bind(this),this.props.getProfile(this.props.user.profile.role,this.props.user.profile.id)}resizeFunction(){window.innerWidth>=960&&this.setState({mobileOpen:!1})}componentDidMount(){window.addEventListener("resize",this.resizeFunction)}componentDidUpdate(e){e.history.location.pathname!==e.location.pathname&&(this.refs.mainPanel.scrollTop=0,this.state.mobileOpen&&this.setState({mobileOpen:!1}))}componentWillUnmount(){window.removeEventListener("resize",this.resizeFunction)}render(){const e=this.props,t=e.classes,a=Object(H.a)(e,["classes"]);return l.a.createElement("div",null,l.a.createElement("div",{className:t.wrapper},l.a.createElement($i,Object.assign({routes:ui(this.props.user),logoText:"Psykon",logo:Xi.a,image:Ki.a,handleDrawerToggle:this.handleDrawerToggle,open:this.state.mobileOpen,color:"blue"},a)),l.a.createElement("div",{className:t.mainPanel,ref:"mainPanel"},l.a.createElement(Bi,Object.assign({routes:gi(this.props.user),handleDrawerToggle:this.handleDrawerToggle},a)),l.a.createElement("div",{className:t.content},l.a.createElement("div",{className:t.container},(s=this.props.user,l.a.createElement(d.d,null,gi(s).map((e,t)=>e.redirect?l.a.createElement(d.a,{from:e.path,to:e.to,key:t}):l.a.createElement(d.b,{path:e.path,component:e.component,key:t})))))),l.a.createElement(ji,null))),l.a.createElement(z.a,{toastClassName:Object(L.css)({fontSize:"14px",paddingLeft:"15px",paddingBottom:"15px"})}));var s}}var Zi=[{path:"/",component:Le(Qi,s,(function(e){return{user:e.user}}),Yi)}];class er extends l.a.Component{constructor(e){super(e),this.login=()=>{const e=this.state,t=e.email,a=e.password;this.props.login(t,a)},this.onChangeHandler=(e,t)=>{let a={};a[t]=e.target.value,this.setState(a)},this.state={email:"",password:""}}render(){const e=this.props.classes,t=(this.props.location.state||{from:{pathname:"/"}}).from;return null!==this.props.user.activateTTL&&this.props.user.activateTTL.getTime()-(new Date).getTime()>=0?l.a.createElement(d.a,{to:"/activate"}):this.props.user.accessToken.length>0?l.a.createElement(d.a,{to:t}):l.a.createElement("div",{className:e.background},l.a.createElement(qe,{className:e.mainBox},l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Login"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,"Click"," ",l.a.createElement("b",{onClick:()=>{A("/register")},className:e.logoutButton},"here")," ","to register.",l.a.createElement("br",null),l.a.createElement("b",{onClick:()=>{A("/recoverPassword")},className:e.logoutButton},"Forgot")," ","your password?",l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Email",id:"email",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"email")}},onEnter:this.login})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Password",id:"password",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"password")},type:"password"},onEnter:this.login})))),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.submitButton,color:"primary",onClick:this.login},"Login")))),l.a.createElement(z.a,{toastClassName:Object(L.css)({fontSize:"14px",paddingLeft:"15px",paddingBottom:"15px"})}))}}er.defaultProps={app:{loading:0},user:{accessToken:""},classes:{},location:{},login:()=>{}};var tr=Le(er,s,(function(e){return{app:e.app,user:e.user}}),Ot);class ar extends l.a.Component{constructor(e){super(e),this.register=()=>{const e=this.state,t=e.role,a=e.email,s=e.password,i=e.retryPassword;/^\w+([-+.']\w+)*@\w+([-.]\w+)*.\w+([-.]\w+)*$/.test(a)?s===i?this.props.register(t,a,s):z.b.error("The new password and its repetition are not equal."):z.b.error("Email format is incorrect.")},this.onChangeHandler=(e,t)=>{let a={};a[t]=e.target.value,this.setState(a)},this.state={role:0,email:"",password:"",retryPassword:""}}render(){const e=this.props.classes,t=(this.props.location.state||{from:{pathname:"/"}}).from;return null!==this.props.user.activateTTL&&this.props.user.activateTTL.getTime()-(new Date).getTime()>=0?l.a.createElement(d.a,{to:"/activate"}):this.props.user.accessToken.length>0?l.a.createElement(d.a,{to:t}):l.a.createElement("div",{className:e.background},l.a.createElement(qe,{className:e.mainBox},l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Register"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(Mt,{value:this.state.role,id:"role",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"role")}},items:["Person","Psychiatrist","Organization"]})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Email",id:"email",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"email")}},onEnter:this.register})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Password",id:"password",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"password")},type:"password"},onEnter:this.register})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Repeat the password",id:"retryPassword",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"retryPassword")},type:"password"},onEnter:this.register})))),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.submitButton,color:"primary",onClick:this.register},"Register")))),l.a.createElement(z.a,{toastClassName:Object(L.css)({fontSize:"14px",paddingLeft:"15px",paddingBottom:"15px"})}))}}ar.defaultProps={app:{loading:0},user:{accessToken:""},classes:{},location:{},register:()=>{}};var sr=Le(ar,s,(function(e){return{app:e.app,user:e.user}}),Ot);class ir extends l.a.Component{constructor(e){super(e),this.intervalID=0,this.activate=()=>{const e=this.state.activateCode;this.props.activate(this.props.user.email,e)},this.onChangeHandler=(e,t)=>{let a={};a[t]=e.target.value,this.setState(a)},this.state={email:"",activateCode:""}}componentDidMount(){this.intervalID=setInterval(()=>{this.setState({currentTime:(new Date).toLocaleString()})},1e3)}componentWillUnmount(){clearInterval(this.intervalID)}render(){const e=this.props.classes,t=(this.props.location.state||{from:{pathname:"/"}}).from;return(""===this.props.user.email||null===this.props.user.activateTTL||this.props.user.activateTTL.getTime()-(new Date).getTime()<0)&&this.props.logout(),this.props.user.accessToken.length>0?l.a.createElement(d.a,{to:t}):l.a.createElement("div",{className:e.background},l.a.createElement(qe,{className:e.mainBox},l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Activate"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,"Click"," ",l.a.createElement("b",{onClick:this.props.logout,className:e.logoutButton},"here")," ","to log in with another email.",l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Activation code",id:"activateCode",formControlProps:{fullWidth:!0},inputProps:{type:"tel",autoComplete:"one-time-code",onChange:e=>{this.onChangeHandler(e,"activateCode")}},onEnter:this.activate})))),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.submitButton,color:"primary",onClick:this.activate},"Login"),l.a.createElement("p",{className:e.remainingTitle},"Remaining time:\u200c"," ",parseInt(Math.max(0,this.props.user.activateTTL.getTime()-(new Date).getTime())/60/1e3),":",parseInt(Math.max((this.props.user.activateTTL.getTime()-(new Date).getTime())/1e3%60)))))),l.a.createElement(z.a,{toastClassName:Object(L.css)({fontSize:"14px",paddingLeft:"15px",paddingBottom:"15px"})}))}}ir.defaultProps={app:{loading:0},user:{accessToken:""},classes:{},location:{},login:()=>{}};var rr=Le(ir,s,(function(e){return{app:e.app,user:e.user}}),Ot);class nr extends l.a.Component{constructor(e){super(e),this.login=()=>{A("login")},this.setPassword=()=>{const e=this.state,t=e.token,a=e.password;a===e.retryPassword?this.props.setPassword(t,a):z.b.error("The new password and its repetition are not equal.")},this.onChangeHandler=(e,t)=>{let a={};a[t]=e.target.value,this.setState(a)},this.state={token:"",password:"",retryPassword:""}}componentDidMount(){var e=null;this.props.location.search.indexOf("token=")>=0&&(e=this.props.location.search.substring(this.props.location.search.indexOf("token=")+6,this.props.location.search.indexOf("token=")+46)),null==e?this.login():this.setState(()=>({token:e}))}render(){const e=this.props.classes,t=(this.props.location.state||{from:{pathname:"/"}}).from;return null!==this.props.user.activateTTL&&this.props.user.activateTTL.getTime()-(new Date).getTime()>=0?l.a.createElement(d.a,{to:"/activate"}):this.props.user.accessToken.length>0?l.a.createElement(d.a,{to:t}):l.a.createElement("div",{className:e.background},l.a.createElement(qe,{className:e.mainBox},l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Register"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,"Enter your email. A password change link will be sent to you.",l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Password",id:"password",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"password")},type:"password"},onEnter:this.register})),l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Repeat the new password",id:"retryPassword",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"retryPassword")},type:"password"},onEnter:this.register})))),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.submitButton,color:"primary",onClick:this.setPassword},"Submit")))),l.a.createElement(z.a,{toastClassName:Object(L.css)({fontSize:"14px",paddingLeft:"15px",paddingBottom:"15px"})}))}}nr.defaultProps={app:{loading:0},user:{accessToken:""},classes:{},location:{},setPassword:()=>{}};var or=Le(nr,s,(function(e){return{app:e.app,user:e.user}}),Ot);class lr extends l.a.Component{constructor(e){super(e),this.recoverPassword=()=>{const e=this.state.email;this.props.recoverPassword(e)},this.onChangeHandler=(e,t)=>{let a={};a[t]=e.target.value,this.setState(a)},this.state={email:""}}render(){const e=this.props.classes,t=(this.props.location.state||{from:{pathname:"/"}}).from;return null!==this.props.user.activateTTL&&this.props.user.activateTTL.getTime()-(new Date).getTime()>=0?l.a.createElement(d.a,{to:"/activate"}):this.props.user.accessToken.length>0?l.a.createElement(d.a,{to:t}):l.a.createElement("div",{className:e.background},l.a.createElement(qe,{className:e.mainBox},l.a.createElement(lt,{color:"primary"},l.a.createElement("div",null,l.a.createElement("div",{className:e.cardTitleWhite},"Recover"),this.props.app.loading>0?l.a.createElement(ht.a,{className:e.loadingItem,type:"spin",height:30,width:30}):null)),l.a.createElement($e,null,"Enter your email. A password change link will be sent to you.",l.a.createElement(ft,null,l.a.createElement(gt,{xs:12,sm:12,md:12},l.a.createElement(It,{labelText:"Email",id:"email",formControlProps:{fullWidth:!0},inputProps:{onChange:e=>{this.onChangeHandler(e,"email")}},onEnter:this.recoverPassword})))),l.a.createElement(Ft,{justify:"left"},l.a.createElement("div",{className:e.bottomOptions},l.a.createElement(Nt,{className:e.submitButton,color:"primary",onClick:this.recoverPassword},"Submit")))),l.a.createElement(z.a,{toastClassName:Object(L.css)({fontSize:"14px",paddingLeft:"15px",paddingBottom:"15px"})}))}}lr.defaultProps={app:{loading:0},user:{accessToken:""},classes:{},location:{},recoverPassword:()=>{}};var cr=Le(lr,s,(function(e){return{app:e.app,user:e.user}}),Ot);var pr=e=>{let t=e.component,a=Object(H.a)(e,["component"]);return l.a.createElement(d.b,Object.assign({},a,{render:e=>W.getState().user.accessToken.length>0?l.a.createElement(t,e):l.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}))};const dr=Object(m.a)(),mr=Object(b.a)({typography:{useNextVariants:!0},palette:{primary:{main:"#00acc1"},secondary:{main:"#f44336"}}}),hr=Object(u.create)({plugins:[...Object(x.a)().plugins]});hr.options.createGenerateClassName=E.a,p.a.render(l.a.createElement(y.a,{theme:mr},l.a.createElement(f.a,{jss:hr},l.a.createElement(h.a,{store:W},l.a.createElement(d.c,{history:dr},l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/login",component:tr}),l.a.createElement(d.b,{path:"/register",component:sr}),l.a.createElement(d.b,{path:"/activate",component:rr}),l.a.createElement(d.b,{path:"/setPassword",component:or}),l.a.createElement(d.b,{path:"/recoverPassword",component:cr}),Zi.map((e,t)=>l.a.createElement(pr,{path:e.path,component:e.component,key:t}))))))),document.getElementById("root"))}},[[418,1,2]]]);
//# sourceMappingURL=main.244aa40c.chunk.js.map